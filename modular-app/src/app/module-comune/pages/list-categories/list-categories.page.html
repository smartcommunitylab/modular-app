<ion-header no-border>
    <ion-toolbar color="secondary">
      <ion-buttons slot="start">
          <ion-back-button></ion-back-button>
        </ion-buttons>
      <ion-title>
          {{'title_list_categories'|translate}}
        </ion-title>
    </ion-toolbar>
  </ion-header>

<!-- <ion-content padding>
  <div *ngIf="categories">
    <div *ngFor="let category of categories">
      <wc-list-categories [category]="category.name" (click)="goToCategory(category)"></wc-list-categories>
    </div>
  </div>
</ion-content> -->
<ion-content>
    <ion-searchbar style="display: none" showCancelButton animated (search)="toggleSearch()" (ionInput)="searchChanged($event)" (ionCancel)="toggleSearch()"></ion-searchbar>
    <!-- FLOATING BUTTON -->
    <ion-fab *ngIf="!isLoading" class="fixed" vertical="bottom" horizontal="start" slot="fixed">
      <ion-fab-button color="danger">
        <ion-icon name="arrow-dropup-circle"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="top">
          <ion-fab-button (click)="toggleSearch()">
            <ion-icon name="search"></ion-icon>
          </ion-fab-button>
          <ion-fab-button (click)="filterClicked()">
              <ion-icon name="swap" class="order-icon"></ion-icon>
            </ion-fab-button>
      </ion-fab-list>
    </ion-fab>
    <!-- ---------------------------- -->

    <ion-list no-lines id="poi-list">
      <div *ngFor="let c of categories">
          <ion-item-divider class="category row" sticky>
              <div class="column c-text">
                <ion-label>{{c}}</ion-label>
              </div>
              <div class="column c-btn">
                <ion-button *ngIf="!search" class="popover-btn" size="small" color="success" (click)="showPopover()">Categorie</ion-button>
              </div>
            </ion-item-divider>
        <div class="content">
          <div *ngFor="let poi of showPois[c]; let i = index">
            <wc-details [img]="poi.image" [title]="poi.title" [subtitle]="poi.subtitle" [text]="poi.text" [info]="poi.info" [contacts]="poi.infos" heading-color="red"></wc-details>
            <div class="spacing" *ngIf="i == showPois.length - 1"></div>
          </div>
        </div>
      </div>
    </ion-list>
</ion-content>