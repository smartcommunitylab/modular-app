<ion-header no-border>
    <ion-toolbar color="secondary">
      <ion-buttons slot="start">
          <ion-back-button></ion-back-button>
        </ion-buttons>
      <ion-title>
          PATH-Details
        </ion-title>
    </ion-toolbar>
  </ion-header>
  
   <wc-tabs id="tabs" [content]="jsonTabs" icon-color="red" bg-color="lightgrey" [tab-actived]="tabActived"></wc-tabs>

   <ion-grid style="height: 100%" *ngIf="isLoading">
    <ion-row justify-content-center align-items-center style="height: 100%">
      <ion-spinner name="circles"></ion-spinner>
    </ion-row>
  </ion-grid>
  
  

   <ion-content padding *ngIf="!isLoading">
      <wc-details *ngIf="(paths) && (tabActived == 'info')" [title]="paths.title" [subtitle]="paths.subtitle" [text]="paths.description" [info]="paths.info" [img]="paths.image"></wc-details>
      
      <div id="poi-list">
        <div *ngIf="tabActived == 'place'">
          <ion-searchbar *ngIf="search" showCancelButton animated (ionInput)="searchChanged($event)" (ionCancel)="toggleSearch()"></ion-searchbar>
          <!-- FLOATING BUTTON -->
          <ion-fab class="fixed" vertical="bottom" horizontal="start" slot="fixed">
              <ion-fab-button color="danger">
                <ion-icon name="arrow-dropup-circle"></ion-icon>
              </ion-fab-button>
              <ion-fab-list side="top">
                  <ion-fab-button (click)="toggleSearch()">
                    <ion-icon name="search"></ion-icon>
                  </ion-fab-button>
                  <ion-fab-button (click)="filterClicked()">
                      <ion-icon name="funnel"></ion-icon>
                    </ion-fab-button>
              </ion-fab-list>
            </ion-fab>
            <!-- ------------------------------- -->
            <div *ngFor="let poi of showPois">
                <wc-path-list-el type="POI" [id]="poi._id" [img]="poi.image" [title]="poi.title[lang]" [text]="poi.subtitle[lang]" main-color="red"></wc-path-list-el>
            </div>
        </div>
      </div>
  
      <div ion-fixed *ngIf="tabActived == 'map'">
        <wc-map id="wc-map" [points]="mapPoints" main-marker-icon="http://icons.iconarchive.com/icons/paomedia/small-n-flat/256/map-marker-icon.png" poi-marker-icon="https://cdn4.iconfinder.com/data/icons/ios7-active-tab/512/map_marker-512.png"></wc-map>
        <wc-modal title="DEMO" text="Testo di prova" btn-text="Dettagli" shown="false" data="ciao"></wc-modal>
      </div>
  </ion-content>
