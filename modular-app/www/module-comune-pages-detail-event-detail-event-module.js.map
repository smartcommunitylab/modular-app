{"version":3,"sources":["webpack:///./src/app/module-comune/pages/detail-event/detail-event.module.ts","webpack:///./src/app/module-comune/pages/detail-event/detail-event.page.html","webpack:///./src/app/module-comune/pages/detail-event/detail-event.page.scss","webpack:///./src/app/module-comune/pages/detail-event/detail-event.page.ts"],"names":[],"mappings":"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","file":"module-comune-pages-detail-event-detail-event-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailEventPage } from './detail-event.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpLoaderFactory } from '../map/map.module';\nimport { HttpClient } from '@angular/common/http';\n\nconst routes: Routes = [\n  { \n    path: '',\n    component: DetailEventPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule.forRoot({ loader: {\n      provide: TranslateLoader,\n      useFactory: HttpLoaderFactory,\n      deps: [HttpClient]\n    }}),    RouterModule.forChild(routes)\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [DetailEventPage]\n})\nexport class DetailEventPageModule {}\n","module.exports = \"<!-- <ion-header no-border translucent=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n    <ion-title *ngIf=\\\"poi\\\">\\n      {{poi.title[lang]}}\\n      </ion-title>\\n  </ion-toolbar>\\n</ion-header> -->\\n<!-- <ion-buttons slot=\\\"start\\\"> --> \\n<!-- <ion-back-button></ion-back-button> -->\\n<!-- </ion-buttons> -->\\n<ion-content fullscreen=\\\"true\\\" padding>\\n    <div shape=\\\"round\\\" class=\\\"back-button\\\" (click)=\\\"goBack()\\\">\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n    </div>\\n    <wc-details *ngIf=\\\"poi\\\" [img]=\\\"poi.image\\\" [stringsinput]=\\\"stringsContact\\\" [title]=\\\"poi.title\\\" [altImage]=\\\"altImage\\\"\\n      [subtitle]=\\\"poi.subtitle\\\" [text]=\\\"poi.description\\\" [info]=\\\"poi.info\\\" [contacts]=\\\"contacts\\\"\\n      [subtitle]=\\\"poi.subtitle\\\" [info]=\\\"poi.info\\\" [contacts]=\\\"poi.infos\\\" [expandable]=false [expanse]=true heading-color=\\\"#707070\\\"\\n      second-color=\\\"#11b3ef\\\"> </wc-details>\\n\\n</ion-content>\"","module.exports = \".back-button {\\n  position: fixed;\\n  color: #11b3ef;\\n  --background: white;\\n  border-radius: 24px;\\n  border: 1px solid #11b3ef;\\n  width: 48px;\\n  height: 48px;\\n  line-height: 48px;\\n  text-align: center;\\n  background-color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NoaW44L0RvY3VtZW50cy93b3JrL21vZHVsYXJBcHAvbW9kdWxhci1hcHAvc3JjL2FwcC9tb2R1bGUtY29tdW5lL3BhZ2VzL2RldGFpbC1ldmVudC9kZXRhaWwtZXZlbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWU7RUFDZixlQUFjO0VBQ2Qsb0JBQWE7RUFDYixvQkFBbUI7RUFDbkIsMEJBQXlCO0VBQ3pCLFlBQVc7RUFDWCxhQUFZO0VBQ1osa0JBQWlCO0VBQ2pCLG1CQUFrQjtFQUNsQix3QkFBdUIsRUFFMUIiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGUtY29tdW5lL3BhZ2VzL2RldGFpbC1ldmVudC9kZXRhaWwtZXZlbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJhY2stYnV0dG9ue1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBjb2xvcjogIzExYjNlZjtcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzExYjNlZjtcbiAgICB3aWR0aDogNDhweDtcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgbGluZS1oZWlnaHQ6IDQ4cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIC8vIGJvcmRlci1yYWRpdXM6IDE4cHg7XG59XG5cblxuLy8gLmJhY2stYnV0dG9uOmFjdGl2ZSB7XG4vLyAgIGJhY2tncm91bmQtY29sb3I6ICMxMWIzZWY7XG4vLyB9Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DbService } from '../../services/db.service';\nimport { ConfigService } from '../../services/config.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-detail-event',\n  templateUrl: './detail-event.page.html',\n  styleUrls: ['./detail-event.page.scss'],\n})\nexport class DetailEventPage implements OnInit {\n  poi: any;\n  poiInput:any;\n  contacts: any = {};\n  language: string;\n  type: string;\n  stringsContact: any;\n  altImage: string;\n\n  constructor(private router: Router, private route: ActivatedRoute,   private location: Location,  private translate: TranslateService,\n    private dbService: DbService, private config: ConfigService) {\n    this.language = window[this.config.getAppModuleName()]['language'];\n    this.translate.use(this.language);\n   }\n\n  ngOnInit() {\n    this.route.queryParams\n      .subscribe(params => {\n        if (params.objectIds) {\n          this.manageoLcalId(params.objectIds);\n        } else if (params) {\n          this.type = params.type;\n          this.dbService.getObjectById(params.id).then(data => {\n            this.poiInput = data.docs[0];\n            this.buildContacts();\n          });\n        }\n      });\n      const element = document.getElementById('poi-list');\n    this.translate.get('alt_image_string').subscribe(\n      value => {\n        this.altImage = value;\n      }\n    );\n     this.config.getStringContacts(this.translate,this.language).then(strings => {\n      this.stringsContact = strings\n    });\n  }\n  goBack() {\n    this.location.back();  }\n  manageoLcalId(objectIds) {\n    if (objectIds.length == 1) {\n      this.dbService.getObjectByDataId(objectIds[0]).then(data => {\n        this.poi = data.docs[0];\n        this.type = data.docs[0].fromTime ? 'EVENT' : 'POI';\n        this.buildContacts();\n      });\n    }\n  }\n  // buildContacts() {\n  //   if (this.contacts) {\n  //     this.contacts['address'] = this.poi.address[this.language];\n  //   }\n  //   // if (this.type === 'POI') {\n  //     if (this.poi.contacts && this.poi.contacts.email && this.poi.contacts.email !== '') {\n  //       this.contacts['email'] = this.poi.contacts.email;\n  //     }\n  //     if (this.poi.contacts.phone && this.poi.contacts.phone && this.poi.contacts.phone !== '') {\n  //       this.contacts['phone'] = this.poi.contacts.phone;\n  //     }\n  //     if (this.poi.contacts.url && this.poi.url && this.poi.url !== '') {\n  //       this.contacts['url'] = this.poi.url;\n  //     }\n  //     this.contacts['distance'] = 0; // TOFIX\n\n  //    if (this.type === 'EVENT') {\n  //     if (this.poi.eventPeriod) {\n  //       this.contacts['date'] = this.poi.eventPeriod[this.language];\n  //     }\n  //     if (this.poi.eventTiming) {\n  //       this.contacts['time'] = this.poi.eventTiming[this.language];\n  //     }\n  //     if (this.poi.topics) {\n  //       this.contacts['cat'] = this.poi.topics;\n  //     }\n  //     if (this.poi.cost && this.poi.cost[this.language] !== '') {\n  //       this.contacts['price'] = this.poi.cost[this.language];\n  //     }\n  //   }\n  buildContacts() {\n      const poiElement: any = {};\n      if (this.poiInput) {\n        if (this.poiInput.title) {\n          poiElement.title = this.poiInput.title[this.language];\n        }\n        if (this.poiInput.subtitle) {\n          poiElement.subtitle = this.poiInput.subtitle[this.language];\n        }\n        if (this.poiInput.description) {\n          poiElement.description = this.poiInput.description[this.language];\n        }\n        if (this.poiInput.image) {\n          poiElement.image = this.poiInput.image;\n        }\n        if (this.poiInput._id) {\n          poiElement.id = this.poiInput._id;\n        }\n        if (this.poiInput.topics) {\n          poiElement.cat = this.poiInput.topics;\n        }\n        if (this.poiInput.eventPeriod) {\n          poiElement.date = this.poiInput.eventPeriod[this.language];\n        }\n        if (this.poiInput.eventTiming) {\n          poiElement.time = this.poiInput.eventTiming[this.language];\n        }\n        if (this.poiInput.info) {\n          poiElement.info = this.poiInput.info[this.language];\n        }\n        if (this.poiInput.address) {\n          poiElement.address = this.poiInput.address[this.language];\n        }\n        if (this.poiInput.description) {\n          poiElement.text = this.poiInput.description[this.language];\n        }\n        if (this.poiInput.category) {\n          poiElement.category = this.poiInput.category;\n        }\n        if (this.poiInput.classification) {\n          poiElement.classification = this.poiInput.classification[this.language];\n        }\n        if (this.poiInput.url) {\n          poiElement.url = this.poiInput.url;\n        }\n        if (this.poiInput.contacts) {\n          if (this.poiInput.contacts.phone) {\n            poiElement.phone = this.poiInput.contacts.phone;\n          }\n          if (this.poiInput.contacts.email) {\n            poiElement.email = this.poiInput.contacts.email;\n          }\n        }\n        poiElement.infos = JSON.stringify(poiElement);\n      }\n      this.poi=poiElement;\n    }\n    \n}\n"],"sourceRoot":""}