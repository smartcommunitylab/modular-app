{"version":3,"sources":["webpack:///./src/app/module-comune/pages/map-path/map-path.module.ts","webpack:///./src/app/module-comune/pages/map-path/map-path.page.html","webpack:///./src/app/module-comune/pages/map-path/map-path.page.scss","webpack:///./src/app/module-comune/pages/map-path/map-path.page.ts"],"names":[],"mappings":"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","file":"pages-map-path-map-path-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapPathPage } from './map-path.page';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapPathPage\n  }\n];\n// export function HttpLoaderFactory(http: HttpClient) {\n//   return new TranslateHttpLoader(http, './assets/comune/i18n/', '.json');\n// }\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    // TranslateModule.forRoot({ loader: {\n    //   provide: TranslateLoader,\n    //   useFactory: HttpLoaderFactory,\n    //   deps: [HttpClient]\n    // }}),\n    RouterModule.forChild(routes)\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [MapPathPage]\n})\nexport class MapPathPageModule {}\n","module.exports = \"<ion-content>\\n    <div shape=\\\"round\\\" class=\\\"back-button\\\" (click)=\\\"goBack()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n      </div>\\n    <wc-map id=\\\"wc-map\\\" [mypos]=\\\"myPosParam\\\" [points]=\\\"mapPoints\\\" main-marker-icon=\\\"assets/comune/img/marker.svg\\\" poi-marker-icon=\\\"assets/comune/img/download.svg\\\"></wc-map>\\n</ion-content>\\n\"","module.exports = \".back-button {\\n  position: fixed;\\n  color: #11b3ef;\\n  --background: white;\\n  border-radius: 24px;\\n  border: 1px solid #11b3ef;\\n  width: 48px;\\n  height: 48px;\\n  line-height: 48px;\\n  text-align: center;\\n  background-color: white;\\n  z-index: 9999;\\n  top: 16px;\\n  left: 16px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0RvY3VtZW50cy9Qcm9qZWN0cy9tb2R1bGFyQXBwL21vZHVsYXItYXBwL21vZHVsYXItYXBwL3NyYy9hcHAvbW9kdWxlLWNvbXVuZS9wYWdlcy9tYXAtcGF0aC9tYXAtcGF0aC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBZTtFQUNmLGVBQWM7RUFDZCxvQkFBYTtFQUNiLG9CQUFtQjtFQUNuQiwwQkFBeUI7RUFDekIsWUFBVztFQUNYLGFBQVk7RUFDWixrQkFBaUI7RUFDakIsbUJBQWtCO0VBQ2xCLHdCQUF1QjtFQUN2QixjQUFhO0VBQ2IsVUFBUztFQUNULFdBQVUsRUFFYiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS1jb211bmUvcGFnZXMvbWFwLXBhdGgvbWFwLXBhdGgucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJhY2stYnV0dG9ue1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBjb2xvcjogIzExYjNlZjtcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzExYjNlZjtcbiAgICB3aWR0aDogNDhweDtcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgbGluZS1oZWlnaHQ6IDQ4cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgdG9wOiAxNnB4O1xuICAgIGxlZnQ6IDE2cHg7XG4gICAgLy8gYm9yZGVyLXJhZGl1czogMThweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DbService } from 'src/app/module-trasporti/services/db.service';\nimport { ConfigService } from '../../../services/config.service';\nimport { GeoService } from 'src/app/services/geo.service';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-map-path',\n  templateUrl: './map-path.page.html',\n  styleUrls: ['./map-path.page.scss'],\n})\nexport class MapPathPage implements OnInit {\n  fullPois: any;\n  mapPoints: any = [];\n  language: any;\n  myPos: any;\n  myPosParam: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private utils: UtilsService,\n    private geoSrv: GeoService,\n    private router: Router,\n    private translate: TranslateService,\n    private location: Location,\n    private config: ConfigService) {\n    this.language = window[this.config.getAppModuleName()]['language'];\n    this.translate.use(this.language);\n  }\n\n  ngOnInit() {\n    if (window[this.config.getAppModuleName()]['geolocation'])\n      this.myPos = {\n        lat: window[this.config.getAppModuleName()]['geolocation']['lat'],\n        long: window[this.config.getAppModuleName()]['geolocation']['long']\n      };\n    else {\n      this.myPos = this.config.getDefaultPosition();\n    }\n    this.fullPois = JSON.parse(localStorage.getItem('path'));\n    const element = document.getElementById('wc-map');\n\n    element.addEventListener('poiSelected', async (poiParam) => {\n      var poiId = (<any>poiParam).detail;\n      console.log(poiId);\n      this.router.navigate(['/detail-poi'], { queryParams: { id: poiId, type: 'POI' } });\n\n    });\n    this.myPosParam = JSON.stringify(this.myPos);\n    this.buildMapPoints();\n\n  }\n\n  ionViewDidEnter() {\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  buildMapPoints() {\n    this.fullPois.forEach(element => {\n      this.mapPoints.push({\n        id: element.id,\n        lat: element.location[0],\n        lon: element.location[1],\n        name: element.title,\n        img: element.image,\n        distance: this.geoSrv.getDistanceKM(this.myPos, { lat: element.location[0], lon: element.location[1] })\n      });\n    });\n    this.mapPoints = JSON.stringify(this.mapPoints);\n  }\n}\n"],"sourceRoot":""}