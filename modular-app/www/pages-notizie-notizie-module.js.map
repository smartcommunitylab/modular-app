{"version":3,"sources":["webpack:///./src/app/module-info/pages/notizie/notizie.module.ts","webpack:///./src/app/module-info/pages/notizie/notizie.page.html","webpack:///./src/app/module-info/pages/notizie/notizie.page.scss","webpack:///./src/app/module-info/pages/notizie/notizie.page.ts"],"names":[],"mappings":"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","file":"pages-notizie-notizie-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotiziePage } from './notizie.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotiziePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [NotiziePage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class NotiziePageModule {\n\n}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-grid>\\n      <ion-row justify-content-center align-items-center>\\n        <ion-col col-6>\\n          <ion-title float-left id=\\\"TITOLO\\\">Avvisi</ion-title>\\n        </ion-col>\\n        <ion-col col-6>\\n          <ion-button fill=\\\"clear\\\" float-right (click)=\\\"OpenCloseRicerca()\\\" id=\\\"btnImpostazioniRicerca\\\" color=\\\"light\\\">\\n            <svg width='24' height='24' viewBox='0 0 24 24'>\\n              <path fill='none' d='M0 0h24v24H0V0z' />\\n              <path\\n                d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' />\\n            </svg>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-toolbar>\\n  <ion-searchbar (ionChange)=\\\"Ricerca()\\\" placeholder=\\\"Cerca\\\" id=\\\"barraDiRicerca\\\" [(ngModel)]=\\\"daCercare\\\"></ion-searchbar>\\n\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <div *ngFor=\\\"let item of datiRicerca\\\" id=\\\"contenitoreAnteprima\\\">\\n      <wc-anteprima (eventMappa)=\\\"visualizzaMappa(item.coordinates[0], item.coordinates[1])\\\"\\n        (eventShare)=\\\"visualizzaShare(item.title, item.image ,item.description)\\\" id=\\\"elemento\\\" img={{item.image}}\\n        titolo={{item.title}} orario={{item.eventStart}} datapubblicazione={{formattaData(item.created)}}\\n        dataevento={{item.eventDate}} durata={{item.eventTiming}} [descrizione]=\\\"item.description\\\"\\n        luogo={{item.address}}>\\n      </wc-anteprima>\\n    </div>\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"caricaAltriDati($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"crescent\\\" loadingText=\\\"Sto caricando...\\\"></ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n\\n</ion-content>\"","module.exports = \"#barraDiRicerca {\\n  display: none; }\\n\\n#contenitoreAnteprima {\\n  padding-bottom: 6px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NoaW44L0RvY3VtZW50cy93b3JrL21vZHVsYXJBcHAvbW9kdWxhci1hcHAvc3JjL2FwcC9tb2R1bGUtaW5mby9wYWdlcy9ub3RpemllL25vdGl6aWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBYSxFQUNoQjs7QUFFRDtFQUNJLG9CQUFtQixFQUN0QiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS1pbmZvL3BhZ2VzL25vdGl6aWUvbm90aXppZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjYmFycmFEaVJpY2VyY2F7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cblxuI2NvbnRlbml0b3JlQW50ZXByaW1he1xuICAgIHBhZGRpbmctYm90dG9tOiA2cHg7XG59XG4iXX0= */\"","import { Component, ViewChild } from '@angular/core';\nimport { DatiServiceService } from '../../services/dati-service.service';\nimport { TipoEvento } from '../../domain/tipo-evento';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { IonInfiniteScroll } from '@ionic/angular';\n\n@Component({\n  selector: 'notizie-page',\n  templateUrl: 'notizie.page.html',\n  styleUrls: ['notizie.page.scss'],\n})\n\n\nexport class NotiziePage {\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  urlMappa = \"https://www.google.com/maps/search/?api=1&query=\";\n\n  isRicercaOpen: boolean = false;\n  DatiEvento: TipoEvento[];\n  daCercare: string;\n  datiRicerca: TipoEvento[] = [];\n  vetDate: Date[] = [];\n\n  start: number = 0;\n\n  vetNuoviDati;\n\n  parametriPost = {\n    \"fromDate\": null,\n    \"size\": 10,\n    \"sortForList\": 0,\n    \"source\": [\"Avvisi del Comune di Trento\"],\n    \"start\": 0,\n    \"tag\": [],\n    \"themes\": []\n  }\n\n  constructor(private datiService: DatiServiceService, private social: SocialSharing) { }\n\n  visualizzaMappa(latitudine: string, longitudine: string) {\n    window.open(encodeURI(this.urlMappa + latitudine + \",\" + longitudine), '_system');\n  }\n\n  visualizzaShare(titolo: string, img: string, descrizione: string) {\n    console.log(\"Share\");\n    this.social.canShareViaEmail().then(() => {\n      this.social.share(titolo.toString() + \" \" + descrizione.toString(), null, img.toString());\n    }).catch(() => {\n      alert(\"Il servizio di condivisione non Ã¨ disponibile per questo dispositivo\");\n    });\n  }\n\n  ngOnInit() {\n    this.DatiEvento = this.datiService.getDati(this.parametriPost);\n    console.log(this.DatiEvento);\n    this.datiRicerca = this.DatiEvento;\n  }\n\n  caricaAltriDati(event) {\n    this.start += 10;\n    let parametriPost = {\n      \"fromDate\": null,\n      \"size\": 10,\n      \"sortForList\": 0,\n      \"source\": [\"Avvisi del Comune di Trento\"],\n      \"start\": this.start,\n      \"tag\": [],\n      \"themes\": []\n    }\n    this.vetNuoviDati = this.datiService.getDati(parametriPost);\n    console.log(this.datiRicerca);\n\n    setTimeout(() => { this.visualizzaDati(this.vetNuoviDati, event) }, 1500);\n  }\n\n  visualizzaDati(vet, event) {\n    for (let item of vet) {\n      this.datiRicerca.push(item);\n    }\n    console.log(this.datiRicerca);\n\n    if (vet.length < 10) {\n      event.target.disabled = true;\n    }\n    event.target.complete();\n  }\n\n  OpenCloseRicerca() {\n    if (!this.isRicercaOpen) {\n      document.getElementById(\"barraDiRicerca\").style.display = \"inherit\";\n      document.getElementById(\"btnImpostazioniRicerca\").innerHTML = \"<svg width='24' height='24' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'/><path d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z'/></svg>\";\n      this.infiniteScroll.disabled = true;\n      this.Ricerca();\n    }\n    else {\n      document.getElementById(\"barraDiRicerca\").style.display = \"none\";\n      document.getElementById(\"btnImpostazioniRicerca\").innerHTML = \"<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'/><path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/></svg>\";\n      this.datiRicerca = this.DatiEvento;\n      this.infiniteScroll.disabled = false;\n    }\n    this.isRicercaOpen = !this.isRicercaOpen;\n  }\n\n  Ricerca() {\n    let vetRisultati: any[] = [];\n    if (this.daCercare != null) {\n      for (let item of this.DatiEvento) {\n        if ((item.description.toUpperCase().includes(this.daCercare.toUpperCase())) || (item.title.toUpperCase().includes(this.daCercare.toUpperCase()))) {\n          vetRisultati.push(item);\n        }\n      }\n      this.datiRicerca = vetRisultati;\n      vetRisultati = null;\n    }\n  }\n\n  formattaData(data): string {\n    let anno: string = data.slice(0, 4);\n    let mese: string = data.slice(4, 6);\n    let giorno: string = data.slice(6, 8);\n    return giorno + \"/\" + mese + \"/\" + anno;\n  }\n}\n"],"sourceRoot":""}