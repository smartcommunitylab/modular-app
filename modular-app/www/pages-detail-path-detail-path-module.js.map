{"version":3,"sources":["webpack:///./src/app/module-comune/pages/detail-path/detail-path.module.ts","webpack:///./src/app/module-comune/pages/detail-path/detail-path.page.html","webpack:///./src/app/module-comune/pages/detail-path/detail-path.page.scss","webpack:///./src/app/module-comune/pages/detail-path/detail-path.page.ts"],"names":[],"mappings":"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","file":"pages-detail-path-detail-path-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailPathPage } from './detail-path.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPathPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [DetailPathPage]\n})\nexport class DetailPathPageModule {}\n","module.exports = \"<ion-header no-border>\\n    <ion-toolbar color=\\\"secondary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n      <ion-title>\\n          Dettaglio Percorso\\n        </ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n   <wc-tabs id=\\\"tabs\\\" [content]=\\\"jsonTabs\\\" icon-color=\\\"red\\\" bg-color=\\\"lightgrey\\\" [tab-actived]=\\\"tabActived\\\"></wc-tabs>\\n\\n   <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"isLoading\\\">\\n    <ion-row justify-content-center align-items-center style=\\\"height: 100%\\\">\\n      <ion-spinner name=\\\"circles\\\"></ion-spinner>\\n    </ion-row>\\n  </ion-grid>\\n  \\n  \\n\\n   <ion-content padding *ngIf=\\\"!isLoading\\\">\\n      <wc-details *ngIf=\\\"(paths) && (tabActived == 'info')\\\" [title]=\\\"paths.title\\\" [subtitle]=\\\"paths.subtitle\\\" [text]=\\\"paths.description\\\" [info]=\\\"paths.info\\\" [img]=\\\"paths.image\\\"></wc-details>\\n      \\n      <div id=\\\"poi-list\\\">\\n        <div *ngIf=\\\"tabActived == 'place'\\\">\\n          <ion-searchbar *ngIf=\\\"search\\\" showCancelButton animated (ionInput)=\\\"searchChanged($event)\\\" (ionCancel)=\\\"toggleSearch()\\\"></ion-searchbar>\\n          <!-- FLOATING BUTTON -->\\n          <ion-fab class=\\\"fixed\\\" vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n              <ion-fab-button color=\\\"danger\\\">\\n                <ion-icon name=\\\"arrow-dropup-circle\\\"></ion-icon>\\n              </ion-fab-button>\\n              <ion-fab-list side=\\\"top\\\">\\n                  <ion-fab-button (click)=\\\"toggleSearch()\\\">\\n                    <ion-icon name=\\\"search\\\"></ion-icon>\\n                  </ion-fab-button>\\n                  <ion-fab-button (click)=\\\"filterClicked()\\\">\\n                      <ion-icon name=\\\"funnel\\\"></ion-icon>\\n                    </ion-fab-button>\\n              </ion-fab-list>\\n            </ion-fab>\\n            <!-- ------------------------------- -->\\n            <div *ngFor=\\\"let poi of showPois\\\">\\n                <wc-path-list-el type=\\\"POI\\\" [id]=\\\"poi._id\\\" [img]=\\\"poi.image\\\" [title]=\\\"poi.title[language]\\\" [text]=\\\"poi.subtitle[language]\\\" main-color=\\\"red\\\"></wc-path-list-el>\\n            </div>\\n        </div>\\n      </div>\\n  \\n      <div ion-fixed *ngIf=\\\"tabActived == 'map'\\\">\\n        <wc-map id=\\\"wc-map\\\" [points]=\\\"mapPoints\\\" main-marker-icon=\\\"http://icons.iconarchive.com/icons/paomedia/small-n-flat/256/map-marker-icon.png\\\" poi-marker-icon=\\\"https://cdn4.iconfinder.com/data/icons/ios7-active-tab/512/map_marker-512.png\\\"></wc-map>\\n        <wc-modal title=\\\"DEMO\\\" text=\\\"Testo di prova\\\" btn-text=\\\"Dettagli\\\" shown=\\\"false\\\" data=\\\"ciao\\\"></wc-modal>\\n      </div>\\n  </ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS1jb211bmUvcGFnZXMvZGV0YWlsLXBhdGgvZGV0YWlsLXBhdGgucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DbService } from '../../services/db.service';\nimport { ConfigService } from 'src/app/services/config.service';\nimport { AlertController } from '@ionic/angular';\nimport { GeoService } from 'src/app/services/geo.service';\n\n@Component({\n  selector: 'app-detail-path',\n  templateUrl: './detail-path.page.html',\n  styleUrls: ['./detail-path.page.scss'],\n})\nexport class DetailPathPage implements OnInit {\n  paths: any;\n  showPois: any = [];\n  fullPois: any = [];\n  language: string;\n  jsonTabs = JSON.stringify([{ target: 'info', icon: 'info' }, { target: 'place', icon: 'place' }, { target: 'map', icon: 'map' }]);\n  tabActived = 'info';\n  isLoading = false;\n  mapPoints: any = [];\n  search = false;\n  myPos: any = {};\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private dbService: DbService,\n    private config: ConfigService,\n    private alert: AlertController,\n    private geoSrv: GeoService\n    ) {\n      this.language = window[this.config.getAppModuleName()]['language'];\n    }\n\n  private getPois(path: any) {\n    path.steps.forEach(element => {\n      const query = {\n        selector: {\n          'category': 'cultura',\n          'localId': element\n        }\n      };\n      this.dbService.getObjectByQuery(query).then(data => {\n        if (data.docs[0]) {\n          this.fullPois.push(data.docs[0]);\n        }\n      }).then(() => {\n        this.showPois = this.fullPois;\n        this.isLoading = false;\n      });\n    });\n  }\n\n  ngOnInit() {\n    this.myPos.lat = window[this.config.getAppModuleName()]['geolocation']['lat'];\n    this.myPos.lon = window[this.config.getAppModuleName()]['geolocation']['long'];\n    this.route.queryParams\n      .subscribe(params => {\n        if (params) {\n          const id = params.id.split(';')[0];\n          this.isLoading = true;\n          this.dbService.getObjectById(id).then(data => {\n            this.paths = data.docs[0];\n            this.buildLangPaths();\n            this.getPois(this.paths);\n          });\n        }\n      });\n  }\n\n  ionViewDidEnter() {\n    const el = document.getElementById('tabs');\n    el.addEventListener('tabSelected', path => {\n      this.tabActived = (<any>path).detail;\n      if (this.tabActived === 'map') {\n        this.buildMapPoints();\n      }\n    });\n    window.addEventListener('pathSelected', target => {\n      this.goToPoi((<any>target).detail);\n    });\n    window.addEventListener('actionSelected', target => {\n      this.goToPoi((<any>target).detail);\n    });\n  }\n\n  buildLangPaths() {\n    this.paths.description = this.paths.description[this.language];\n    this.paths.info = this.paths.info[this.language];\n    this.paths.subtitle = this.paths.subtitle[this.language];\n    this.paths.title = this.paths.title[this.language];\n    this.paths.difficulty = this.paths.difficulty[this.language];\n    console.log(this.paths)\n   // this.paths.contacts = {address: this.paths.address}\n  }\n\n  buildMapPoints() {\n    this.fullPois.forEach(element => {\n      this.mapPoints.push({\n        id: element._id,\n        lat: element.location[0],\n        lon: element.location[1],\n        name: element.title[this.language],\n        address: element.address[this.language],\n        distance: this.geoSrv.getDistanceKM(this.myPos, {lat: element.location[0], lon: element.location[1]})\n      });\n    });\n    this.mapPoints.push({\n      lat: this.myPos.lat,\n      lon: this.myPos.lon,\n      name: 'myPos',\n      distance: 0\n    });\n    this.mapPoints = JSON.stringify(this.mapPoints);\n  }\n\n  goToPoi(id) {\n    this.router.navigate(['/detail-poi'], { queryParams: { id: id } });\n  }\n\n  toggleSearch() {\n    this.search = !this.search;\n  }\n  searchChanged(input: any) {\n    const value = input.detail.target.value;\n    const _this = this;\n    this.showPois = this.fullPois.filter(function(el) {\n      return (el.title[_this.language].toLowerCase().indexOf(value.toLowerCase()) > -1);\n    });\n  }\n  filterClicked() {\n    this.buildAlert();\n    console.log('filter');\n  }\n  async buildAlert() {\n    const _this = this;\n    const alert = await this.alert.create({\n      header: 'Ordina per',\n      inputs: [\n        {\n          name: 'asc',\n          type: 'radio',\n          label: 'A-Z',\n          value: 'asc',\n          checked: true\n        },\n        {\n          name: 'desc',\n          type: 'radio',\n          label: 'Z-A',\n          value: 'desc',\n          checked: false\n        }\n      ],\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Modal Closed');\n          }\n        },\n        {\n          text: 'OK',\n          handler: data => {\n             this.orderArray(data, _this);\n          }\n        }\n      ]\n    });\n\n   await alert.present();\n  }\n  orderArray(condition: string, _this: any) {\n    if (condition.indexOf('asc') > -1) {\n      _this.showPois = this.fullPois.sort(function(a, b) { return a.title[_this.lang].localeCompare(b.title[_this.lang]); });\n    } else {\n      _this.showPois = this.fullPois.sort(function(a, b) { return b.title[_this.lang].localeCompare(a.title[_this.lang]); });\n    }\n     console.log(_this.showPois);\n  }\n}\n"],"sourceRoot":""}