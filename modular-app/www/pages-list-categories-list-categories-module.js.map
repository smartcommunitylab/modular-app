{"version":3,"sources":["webpack:///./src/app/module-comune/pages/list-categories/list-categories.module.ts","webpack:///./src/app/module-comune/pages/list-categories/list-categories.page.html","webpack:///./src/app/module-comune/pages/list-categories/list-categories.page.scss","webpack:///./src/app/module-comune/pages/list-categories/list-categories.page.ts"],"names":[],"mappings":"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","file":"pages-list-categories-list-categories-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListCategoriesPage } from './list-categories.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListCategoriesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [ListCategoriesPage]\n})\nexport class ListCategoriesPageModule {}\n","module.exports = \"<ion-header no-border>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n      <ion-title>\\n          {{'title_list_categories'|translate}}\\n        </ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<!-- <ion-content padding>\\n  <div *ngIf=\\\"categories\\\">\\n    <div *ngFor=\\\"let category of categories\\\">\\n      <wc-list-categories [category]=\\\"category.name\\\" (click)=\\\"goToCategory(category)\\\"></wc-list-categories>\\n    </div>\\n  </div>\\n</ion-content> -->\\n<ion-content>\\n    <ion-searchbar style=\\\"display: none\\\" showCancelButton animated (search)=\\\"toggleSearch()\\\" (ionInput)=\\\"searchChanged($event)\\\" (ionCancel)=\\\"toggleSearch()\\\"></ion-searchbar>\\n    <!-- FLOATING BUTTON -->\\n    <ion-fab *ngIf=\\\"!isLoading\\\" class=\\\"fixed\\\" vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n      <ion-fab-button color=\\\"danger\\\">\\n        <ion-icon name=\\\"arrow-dropup-circle\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-list side=\\\"top\\\">\\n          <ion-fab-button (click)=\\\"toggleSearch()\\\">\\n            <ion-icon name=\\\"search\\\"></ion-icon>\\n          </ion-fab-button>\\n          <ion-fab-button (click)=\\\"filterClicked()\\\">\\n              <ion-icon name=\\\"swap\\\" class=\\\"order-icon\\\"></ion-icon>\\n            </ion-fab-button>\\n      </ion-fab-list>\\n    </ion-fab>\\n    <!-- ---------------------------- -->\\n\\n    <ion-list no-lines id=\\\"poi-list\\\">\\n      <div *ngFor=\\\"let c of categories\\\">\\n          <ion-item-divider class=\\\"category row\\\" sticky>\\n              <div class=\\\"column c-text\\\">\\n                <ion-label>{{c}}</ion-label>\\n              </div>\\n              <div class=\\\"column c-btn\\\">\\n                <ion-button *ngIf=\\\"!search\\\" class=\\\"popover-btn\\\" size=\\\"small\\\" color=\\\"success\\\" (click)=\\\"showPopover()\\\">Categorie</ion-button>\\n              </div>\\n            </ion-item-divider>\\n        <div class=\\\"content\\\">\\n          <div *ngFor=\\\"let poi of showPois[c]; let i = index\\\">\\n            <wc-details [img]=\\\"poi.image\\\" [title]=\\\"poi.title\\\" [subtitle]=\\\"poi.subtitle\\\" [text]=\\\"poi.text\\\" [info]=\\\"poi.info\\\" [contacts]=\\\"poi.infos\\\" heading-color=\\\"red\\\"></wc-details>\\n            <div class=\\\"spacing\\\" *ngIf=\\\"i == showPois.length - 1\\\"></div>\\n          </div>\\n        </div>\\n      </div>\\n    </ion-list>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS1jb211bmUvcGFnZXMvbGlzdC1jYXRlZ29yaWVzL2xpc3QtY2F0ZWdvcmllcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DbService } from '../../services/db.service';\n\n@Component({\n  selector: 'app-list-categories',\n  templateUrl: './list-categories.page.html',\n  styleUrls: ['./list-categories.page.scss'],\n})\nexport class ListCategoriesPage implements OnInit {\n  showPois: any = [];\n  categories: any;\n  language = 'it';\n  fullCategories: any = [];\n  fullPois: any = [];\n  isLoading = true;\n  private type: string;\n\n  constructor(private router: Router, private route: ActivatedRoute, public dbService: DbService\n  ) { }\n\n\n  ngOnInit() {\n    this.route.queryParams\n      .subscribe(params => {\n        console.log(params); // {order: \"popular\"}\n        if (params) {\n          const cat = JSON.parse(params.category);\n          if (cat.type !== 'PATH') {\n            this.dbService.getMenuById(cat.id).then(results => {\n              console.log(results);\n              if (results.docs) {\n                // take the first with items\n                for (let i = 0; i < results.docs.length; i++) {\n                  if (results.docs[i].items) {\n                    this.categories = results.docs[i].items;\n                    break;\n                  }\n                }\n                this.categories = this.categories.map(x => this.convertCategories(x));\n                this.categories.forEach(element => {\n                  if (element && element.query) {\n                    this.dbService.getObjectByQuery(element.query).then((data) => {\n                      this.fullPois = data.docs.map(x => this.convertPois(x));\n                      this.subCategories(this.fullPois);\n                      this.buildShowPois();\n                      this.isLoading = false;\n                      console.log(this.showPois);\n                    });\n                  }\n                  const el = document.getElementById('poi-list');\n                  el.addEventListener('pathSelected', path => {\n                    this.type = (<any>path).detail.split(';')[1];\n                    const id = (<any>path).detail.split(';')[0];\n                    this.goToDetail(id);\n                  });\n                });\n              }\n            });\n          } else {\n            const tmp = {query: {'selector': {'element-type': 'itinerary-item'}, type: 'itineraries'}};\n            this.goToCategory(tmp);\n          }\n      }\n      });\n\n  }\n  buildShowPois() {\n    this.fullCategories.forEach(e => {\n      this.fullPois.forEach(p => {\n        if (!this.showPois[e]) {\n          this.showPois[e] = [];\n        }\n        if (p.category === e) {\n          this.showPois[e].push(p);\n        }\n      });\n    });\n  }\n  convertPois(x) {\n    const poiElement: any = {};\n    if (x) {\n      if (x.title) {\n        poiElement.title = x.title[this.language];\n      }\n      if (x.subtitle) {\n        poiElement.subtitle = x.subtitle[this.language];\n      }\n      if (x.description) {\n        poiElement.description = x.description[this.language];\n      }\n      if (x.image) {\n        poiElement.image = x.image;\n      }\n      if (x._id) {\n        poiElement.id = x._id;\n      }\n      if (x.topics) {\n        poiElement.cat = x.topics;\n      }\n      if (x.eventPeriod) {\n        poiElement.date = x.eventPeriod[this.language];\n      }\n      if (x.eventTiming) {\n        poiElement.time = x.eventTiming[this.language];\n      }\n      if (x.info)  {\n        poiElement.info = x.info[this.language];\n      }\n      if (x.address) {\n        poiElement.address = x.address[this.language];\n      }\n      if (x.description) {\n        poiElement.text = x.description[this.language];\n      }\n      if (x.category) {\n        poiElement.category = x.category;\n      }\n      if (x.url) {\n        poiElement.url = x.url;\n      }\n      if (x.contacts) {\n        if (x.contacts.phone) {\n          poiElement.phone = x.contacts.phone;\n        }\n        if (x.contacts.email) {\n          poiElement.email = x.contacts.email;\n        }\n      }\n      poiElement.infos = JSON.stringify(poiElement);\n    }\n    return poiElement;\n  }\n  subCategories(array: Array<any>) {\n    array.forEach(element => {\n      if (!this.fullCategories.includes(element.category)) {\n        this.fullCategories.push(element.category);\n      }\n      this.categories = this.fullCategories;\n    });\n  }\n\n  ionViewDidLoad() {\n    const categoryButtonsElement = document.querySelector('category-buttons');\n    categoryButtonsElement.addEventListener('categorySelected', category => { console.log('ciao'); });\n\n  }\n  goToListPoi(category) {\n    this.router.navigate(['/list-categories'], { queryParams: { category: JSON.stringify(category) } });\n\n  }\n  convertCategories(x) {\n    const categoryElement: any = {};\n    categoryElement.id = x.id;\n    if (x) {\n      if (x.name) {\n        categoryElement.name = x.name[this.language];\n      }\n      if (x.query) {\n        categoryElement.query = x.query;\n      }\n      if (x.objectIds) {\n        categoryElement.objectIds = x.objectIds;\n      }\n    }\n    return categoryElement;\n  }\n\n  goToDetail(id) {\n    this.router.navigate(['/detail-poi'], { queryParams: { id: id, type: this.type } });\n  }\n  goToCategory(category) {\n    if (category.query) {\n      if (category.query.type.indexOf('itineraries') > -1) {\n        this.router.navigate(['/list-path'], { queryParams: { category: JSON.stringify(category) } });\n      } else if (category.query.type.indexOf('event') > -1) {\n        this.router.navigate(['/list-event'], { queryParams: { category: JSON.stringify(category) } });\n      }\n    } else {\n      this.router.navigate(['/list-poi'], { queryParams: { category: JSON.stringify(category) } });\n    }\n  }\n}\n"],"sourceRoot":""}