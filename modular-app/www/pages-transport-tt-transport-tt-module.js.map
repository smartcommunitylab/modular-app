{"version":3,"sources":["webpack:///./src/app/module-trasporti/pages/transport-tt/transport-tt.module.ts","webpack:///./src/app/module-trasporti/pages/transport-tt/transport-tt.page.html","webpack:///./src/app/module-trasporti/pages/transport-tt/transport-tt.page.scss","webpack:///./src/app/module-trasporti/pages/transport-tt/transport-tt.page.ts"],"names":[],"mappings":"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","file":"pages-transport-tt-transport-tt-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TransportTtPage } from './transport-tt.page';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TransportTtPage\n  }\n];\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/trasporti/i18n/\", \".json\");\n}\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }, isolate: true\n    }),    RouterModule.forChild(routes)\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [TransportTtPage]\n})\nexport class TransportTtPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{title}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div  id=\\\"table-tt\\\"><wc-trasporti-table  *ngIf=\\\"data\\\" [color]=\\\"color\\\" [data]=\\\"data\\\" [title]=\\\"title\\\" [day]=\\\"day\\\" [arrows]=\\\"true\\\" [littletable]=\\\"littletable\\\" [showtrips]=\\\"showtrips\\\" [labeldelay]=\\\"labeldelay\\\" [labeltrips]=\\\"labeltrips\\\"  [accessibility]=\\\"accessibility\\\" [showtrips]=\\\"showtrips\\\" [tripsvalue]=\\\"tripsvalue\\\"></wc-trasporti-table></div>\\n    \\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS10cmFzcG9ydGkvcGFnZXMvdHJhbnNwb3J0LXR0L3RyYW5zcG9ydC10dC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { TransportService } from '../../services/transport.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Config } from '@ionic/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-transport-tt',\n  templateUrl: './transport-tt.page.html',\n  styleUrls: ['./transport-tt.page.scss'],\n})\nexport class TransportTtPage implements OnInit {\n  date: Date = new Date();\n  color: string = \"#123456\";\n  title: string = \"\";\n  day: string = this.date.getTime().toString();\n  littletable: boolean = true; //change font size of table\n  showtrips: boolean = true; // show kind of transportation for course. Used for train\n  labeldelay: string = \"RITARDO\";\n  labeltrips: string = \"TIPO\";\n  accessibility = false; // shows coulumn of accessibility\n  agencyId: any;\n  routeId: any;\n  data: string = \"\";\n  tripsvalue: string;\n  constructor(private trasportiService: TransportService, private loadingController: LoadingController, private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.agencyId = this.route.snapshot.paramMap.get('agencyId');;\n    this.routeId = this.route.snapshot.paramMap.get('routeId');\n    this.title = this.route.snapshot.paramMap.get('title');\n    this.getTT(this.date.getTime());\n\n  }\n  ionViewDidEnter() {\n    const trasportiTable = document.getElementById('table-tt');\n    trasportiTable.addEventListener('changeDateEvent', event => {\n      if ((<any>event).detail == \"prevDate\")\n        this.date.setDate(this.date.getDate() - 1);\n      if ((<any>event).detail == \"nextDate\")\n        this.date.setDate(this.date.getDate() + 1);\n      this.day = this.date.getTime().toString();\n      this.getTT(this.date.getTime());\n    })\n    trasportiTable.addEventListener('showStopEvent', () => {\n      console.log(\"stop click\");\n    })\n  }\n  async getTT(date) {\n    const loading = await this.loadingController.create();\n    loading.present();\n    // var that = this;\n    this.trasportiService.getTT(this.agencyId, this.routeId, date).then(\n      (data: any) => {\n        // get data with delay\n        this.data = JSON.stringify(data);\n        //get type\n        var str = \"\";\n        for (var i = 0; i < data.tripIds.length; i++) {\n          str = str + this.trasportiService.getTripText(this.agencyId, data.tripIds[0]);\n        }\n\n        console.log(str);\n        this.tripsvalue=str;\n        if (this.tripsvalue==\"\"){\n          this.showtrips =false;\n        }\n        loading.dismiss();\n      }, (err) => {\n        console.log(err);\n        this.data = null;\n        loading.dismiss();\n      }\n    )\n  };\n};\n\n"],"sourceRoot":""}