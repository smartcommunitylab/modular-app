{"version":3,"sources":["webpack:///./src/app/module-comune/pages/detail-poi/detail-poi.module.ts","webpack:///./src/app/module-comune/pages/detail-poi/detail-poi.page.html","webpack:///./src/app/module-comune/pages/detail-poi/detail-poi.page.scss","webpack:///./src/app/module-comune/pages/detail-poi/detail-poi.page.ts","webpack:///./src/app/module-comune/services/config.service.ts","webpack:///./src/app/module-comune/services/utils.service.ts"],"names":[],"mappings":"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","file":"pages-detail-poi-detail-poi-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { DetailPoiPage } from './detail-poi.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPoiPage\n  }\n];\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/comune/i18n/', '.json');\n}\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule.forRoot({ loader: {\n      provide: TranslateLoader,\n      useFactory: HttpLoaderFactory,\n      deps: [HttpClient]\n    }}),    RouterModule.forChild(routes)\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [DetailPoiPage]\n})\nexport class DetailPoiPageModule {}\n","module.exports = \"\\n<!-- <ion-content padding id=\\\"poi-container\\\" >\\n    <wc-details *ngIf=\\\"poi\\\" [title]=\\\"poi.title[lang]\\\" [subtitle]=\\\"poi.subtitle[lang]\\\"  [text]=\\\"poi.description[lang]\\\" [info]=\\\"poi.info[lang]\\\" [contacts]=\\\"contacts\\\" [img]=\\\"poi.image\\\" ></wc-details>\\n</ion-content> -->\\n\\n<ion-content fullscreen=\\\"true\\\" padding id=\\\"poi-container\\\">\\n    <div shape=\\\"round\\\" class=\\\"back-button\\\" (click)=\\\"goBack()\\\">\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n    </div>\\n    <wc-details  *ngIf=\\\"poi\\\" [img]=\\\"poi.image\\\" [stringsinput]=\\\"stringsContact\\\" [title]=\\\"poi.title\\\" [altImage]=\\\"altImage\\\"\\n      [subtitle]=\\\"poi.subtitle\\\" [text]=\\\"poi.description\\\" [info]=\\\"poi.info\\\" [contacts]=\\\"contacts\\\"\\n      [subtitle]=\\\"poi.subtitle\\\" [info]=\\\"poi.info\\\" [contacts]=\\\"poi.infos\\\" [expandable]=false [expanse]=true heading-color=\\\"#707070\\\"\\n      second-color=\\\"#11b3ef\\\"> </wc-details>\\n\\n</ion-content>\"","module.exports = \".back-button {\\n  position: fixed;\\n  color: #11b3ef;\\n  --background: white;\\n  border-radius: 24px;\\n  border: 1px solid #11b3ef;\\n  width: 48px;\\n  height: 48px;\\n  line-height: 48px;\\n  text-align: center;\\n  background-color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NoaW44L0RvY3VtZW50cy93b3JrL21vZHVsYXJBcHAvbW9kdWxhci1hcHAvc3JjL2FwcC9tb2R1bGUtY29tdW5lL3BhZ2VzL2RldGFpbC1wb2kvZGV0YWlsLXBvaS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBZTtFQUNmLGVBQWM7RUFDZCxvQkFBYTtFQUNiLG9CQUFtQjtFQUNuQiwwQkFBeUI7RUFDekIsWUFBVztFQUNYLGFBQVk7RUFDWixrQkFBaUI7RUFDakIsbUJBQWtCO0VBQ2xCLHdCQUF1QixFQUUxQiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS1jb211bmUvcGFnZXMvZGV0YWlsLXBvaS9kZXRhaWwtcG9pLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5iYWNrLWJ1dHRvbntcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgY29sb3I6ICMxMWIzZWY7XG4gICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBib3JkZXItcmFkaXVzOiAyNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICMxMWIzZWY7XG4gICAgd2lkdGg6IDQ4cHg7XG4gICAgaGVpZ2h0OiA0OHB4O1xuICAgIGxpbmUtaGVpZ2h0OiA0OHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAvLyBib3JkZXItcmFkaXVzOiAxOHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DbService } from '../../services/db.service';\nimport { UtilsService } from '../../services/utils.service';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ConfigService } from '../../services/config.service';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-detail-poi',\n  templateUrl: './detail-poi.page.html',\n  styleUrls: ['./detail-poi.page.scss'],\n})\nexport class DetailPoiPage implements OnInit {\n  poi: any;\n  poiInput: any;\n  contacts: any = {};\n  language: string;\n  type: string;\n  stringsContact: any;\n  altImage: string;\n\n  constructor(private router: Router, private route: ActivatedRoute, private callNumber: CallNumber, private utils: UtilsService, private location: Location, private translate: TranslateService,\n    private dbService: DbService, private config: ConfigService) {\n    this.language = window[this.config.getAppModuleName()]['language'];\n    this.translate.use(this.language);\n  }\n\n  ngOnInit() {\n    this.route.queryParams\n      .subscribe(params => {\n        if (params.objectIds) {\n          this.manageoLcalId(params.objectIds);\n        } else if (params) {\n          this.type = params.type;\n          this.dbService.getObjectById(params.id).then(data => {\n            this.poiInput = data.docs[0];\n            this.buildContacts();\n          });\n        }\n      });\n    this.translate.get('alt_image_string').subscribe(\n      value => {\n        this.altImage = value;\n      }\n    );\n    this.config.getStringContacts(this.translate, this.language).then(strings => {\n      this.stringsContact = strings\n    });\n    const element = document.getElementById('poi-container');\n\n    element.addEventListener('contactClick', async (contact) => {\n      // console.log(contact)\n      var contactParam = JSON.parse((<any>contact).detail)\n      if (contactParam.type == 'phone') {\n        this.callNumber.callNumber(contactParam.value, true)\n          .then(res => console.log('Launched dialer!', res))\n          .catch(err => console.log('Error launching dialer', err));\n      }\n      if (contactParam.type == 'address') {\n        this.utils.openAddressMap(contactParam.value);\n        console.log('vai all\\'indirizzo' + contactParam.value);\n      }\n      if (contactParam.type == 'url') {\n        this.utils.openUrl(contactParam.value);\n        console.log('vai all\\'indirizzo' + contactParam.value);\n      }\n      if (contactParam.type == 'share') {\n        this.utils.openShare(contactParam.value);\n        console.log('vai all\\'indirizzo' + contactParam.value);\n      }\n    })\n  }\n  ionViewWillLeave() {\n    const element = document.getElementById('poi-container');\n    if (element) {\n      element.removeEventListener('contactClick', function (e) {\n        console.log(e);\n      }, false);\n    }\n  }\n  goBack() {\n    this.location.back();\n  }\n\n  manageoLcalId(objectIds) {\n    if (objectIds.length == 1) {\n      this.dbService.getObjectByDataId(objectIds[0]).then(data => {\n        this.poi = data.docs[0];\n        this.type = data.docs[0].fromTime ? 'EVENT' : 'POI';\n        this.buildContacts();\n      });\n    }\n  }\n\n  buildContacts() {\n    const poiElement: any = {};\n    if (this.poiInput) {\n      if (this.poiInput.title) {\n        poiElement.title = this.poiInput.title[this.language];\n      }\n      if (this.poiInput.subtitle) {\n        poiElement.subtitle = this.poiInput.subtitle[this.language];\n      }\n      if (this.poiInput.description) {\n        poiElement.description = this.poiInput.description[this.language];\n      }\n      if (this.poiInput.image) {\n        poiElement.image = this.poiInput.image;\n      }\n      if (this.poiInput._id) {\n        poiElement.id = this.poiInput._id;\n      }\n      if (this.poiInput.topics) {\n        poiElement.cat = this.poiInput.topics;\n      }\n      if (this.poiInput.eventPeriod) {\n        poiElement.date = this.poiInput.eventPeriod[this.language];\n      }\n      if (this.poiInput.eventTiming) {\n        poiElement.time = this.poiInput.eventTiming[this.language];\n      }\n      if (this.poiInput.info) {\n        poiElement.info = this.poiInput.info[this.language];\n      }\n      if (this.poiInput.address) {\n        poiElement.address = this.poiInput.address[this.language];\n      }\n      if (this.poiInput.description) {\n        poiElement.text = this.poiInput.description[this.language];\n      }\n      if (this.poiInput.category) {\n        poiElement.category = this.poiInput.category;\n      }\n      if (this.poiInput.classification) {\n        poiElement.classification = this.poiInput.classification[this.language];\n      }\n      if (this.poiInput.url) {\n        poiElement.url = this.poiInput.url;\n      }\n      if (this.poiInput.contacts) {\n        if (this.poiInput.contacts.phone) {\n          poiElement.phone = this.poiInput.contacts.phone;\n        }\n        if (this.poiInput.contacts.email) {\n          poiElement.email = this.poiInput.contacts.email;\n        }\n      }\n      poiElement.infos = JSON.stringify(poiElement);\n    }\n    this.poi = poiElement;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigService {\n  private appModuleName: string = \"app-module\";\n  private defaultPosition = {\n    lat: 0,\n    long: 0\n  }\n  private menu = [\n    {\n      title: \"Home\",\n      url: \"/home\",\n      icon: \"home\"\n    }\n  ]\n  constructor() {\n\n  }\n  init() {\n    localStorage.setItem('comune-menu-', JSON.stringify(this.menu));\n\n  }\n  getStringContacts(translate,language): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      translate.get('phone_contacts').subscribe((phone: string) => {\n        var phone = phone;\n\n        const address = translate.instant('address_contacts');\n        const url = translate.instant('url_contacts');\n        const share = translate.instant('share_contacts');\n        var contacts = JSON.stringify({\n          \"phone\": phone,\n          \"address\": address,\n          \"url\":url,\n          \"share\":share\n        })\n        resolve(contacts)\n      });\n    })\n  }\n  getAppModuleName(): string {\n    return this.appModuleName;\n  }\n  getDefaultPosition() {\n    return this.defaultPosition;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilsService {\n\n\n\n  urlMappa = \"https://www.google.com/maps/search/?api=1&query=\";\n  pattern = /^((http|https|ftp):\\/\\/)/;\n\n  constructor(private theInAppBrowser: InAppBrowser, private loadingController: LoadingController) { }\n  openAddressMap(address) {\n    window.open(encodeURI(this.urlMappa + address), '_system');\n  }\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      // spinner: null,\n      // message: `<img src=\"assets/animation/loading.gif\" />`,\n      // cssClass: 'custom-loading',\n      // duration: 2000\n    });\n    return await loading.present();\n  }\n  hideLoading() {\n    this.loadingController.dismiss()\n  }\n  openUrl(value: any): any {\n    let target = \"_system\";\n    if (!this.pattern.test(value)) {\n      value = \"http://\" + value;\n    }\n    this.theInAppBrowser.create(value, `_system`);\n\n  }\n  openShare(value: any): any {\n    throw new Error(\"Method not implemented.\");\n  }\n\n\n}\n\n"],"sourceRoot":""}