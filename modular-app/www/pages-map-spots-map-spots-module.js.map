{"version":3,"sources":["webpack:///./src/app/module-trasporti/pages/map-spots/map-spots.module.ts","webpack:///./src/app/module-trasporti/pages/map-spots/map-spots.page.html","webpack:///./src/app/module-trasporti/pages/map-spots/map-spots.page.scss","webpack:///./src/app/module-trasporti/pages/map-spots/map-spots.page.ts","webpack:///./src/app/module-trasporti/pages/map-spots/stop-detail/stop-detail.component.html","webpack:///./src/app/module-trasporti/pages/map-spots/stop-detail/stop-detail.component.scss","webpack:///./src/app/module-trasporti/pages/map-spots/stop-detail/stop-detail.component.ts","webpack:///./src/app/module-trasporti/pages/map-spots/stop-single-line/stop-single-line.component.html","webpack:///./src/app/module-trasporti/pages/map-spots/stop-single-line/stop-single-line.component.scss","webpack:///./src/app/module-trasporti/pages/map-spots/stop-single-line/stop-single-line.component.ts","webpack:///./src/app/module-trasporti/services/profile.service.ts"],"names":[],"mappings":"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","file":"pages-map-spots-map-spots-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapSpotsPage } from './map-spots.page';\nimport { StopDetailComponent } from './stop-detail/stop-detail.component';\nimport { StopSingleLineComponent } from './stop-single-line/stop-single-line.component';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapSpotsPage\n  }\n];\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/trasporti/i18n/\", \".json\");\n}\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }, isolate: true\n    }),    RouterModule.forChild(routes)\n  ],\n  entryComponents:[StopDetailComponent],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [MapSpotsPage, StopDetailComponent,StopSingleLineComponent]\n})\nexport class MapSpotsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>mapSpots</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <wc-trasporti-map [points]=\\\"markers\\\" [center]=\\\"center\\\" [mainMarkerIcon]=\\\"'./assets/trasporti/mymarker.jpg'\\\" [poiMarkerIcon]=\\\"'./assets/trasporti/marker.png'\\\" [zoomLevel]=15></wc-trasporti-map>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS10cmFzcG9ydGkvcGFnZXMvbWFwLXNwb3RzL21hcC1zcG90cy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController, ToastController, ModalController } from '@ionic/angular';\nimport { ProfileService } from '../../services/profile.service';\nimport { ConfigService } from '../../services/config.service';\nimport { DbService } from '../../services/db.service';\nimport { TransportService } from '../../services/transport.service';\nimport leaflet from 'leaflet';\nimport { JsonPipe } from '@angular/common';\nimport { TranslateService } from '@ngx-translate/core';\nimport { StopDetailComponent } from './stop-detail/stop-detail.component';\n\n@Component({\n  selector: 'app-map-spots',\n  templateUrl: './map-spots.page.html',\n  styleUrls: ['./map-spots.page.scss'],\n})\nexport class MapSpotsPage implements OnInit {\n  accesibilityKnow: any;\n  markers: string ='[{\"id\":\"point2\",\"lat\":\"46.07559\",\"long\":\"11.16411\"}]';\n  //include wc with spots of type selected\n  constructor(private loadingController: LoadingController,public modalController: ModalController, private translate: TranslateService, private toast: ToastController, private transportService: TransportService, private dbService: DbService, private configService: ConfigService, private profileService: ProfileService) { }\n  allMarkers = null;\n  mapData = null;\n  elements = null;\n  markerIcon = null;\n  icon = null;\n  title = null;\n  ref = null;\n  flagAccessibility = null;\n  accessibilityStyle = null;\n  popupStop = null;\n  currBounds = null;\n  tooManyMarkers = false;\n  // center = JSON.stringify(window[\"app-module\"][\"geolocation\"]);\n  center = '{\"latitude\":\"46.067727\",\"longitude\":\"11.151561\"}'\n  //tmp\n  MAX_MARKERS = 30;\n\n  async ngOnInit() {\n    if (!this.accesibilityKnow) {\n      this.flagAccessibility = false;\n    }\n    this.flagAccessibility = this.profileService.getAccessibility();\n\n    this.MAX_MARKERS = this.configService.getMaxMarkers();\n    this.elements = this.transportService.getElements();\n    window.addEventListener('mapInitiated', bounds => {\n      console.log(bounds);\n      this.filterMarkers(this.flagAccessibility, (<any>bounds).detail);\n    });\n    window.addEventListener('mapMoved', bounds => {\n      console.log(bounds);\n      this.filterMarkers(this.flagAccessibility, (<any>bounds).detail);\n    });\n    window.addEventListener('poiSelected', stop => {\n      console.log(stop);\n      this.showStopDetail((<any>stop).detail);\n    });\n\n  }\n  async showStopDetail(stopId: any) {\n    //show popup with detail information\n      const modal = await this.modalController.create({\n        component: StopDetailComponent,\n        componentProps: {\n          'id': stopId.id,\n          'object': stopId.object\n        }\n      });\n      return await modal.present();\n    \n  }\n\n  getAccessibilityStyle(ref) {\n\n    //check if bus or train\n    if (ref === 'urbano') {\n      this.accesibilityKnow = true;\n    } else {\n      this.accesibilityKnow = false;\n    }\n    return this.flagAccessibility ? 'ic_access' : 'ic_access_outline';\n\n  }\n\n  toggleAccessibility() {\n\n    this.flagAccessibility = !this.flagAccessibility;\n    this.accessibilityStyle = this.getAccessibilityStyle(this.ref);\n    // this.filterMarkers(true);\n    this.profileService.setAccessibility(this.flagAccessibility);\n  }\n\n  getAgencies() {\n    var res = [];\n    this.elements.forEach(function (e) {\n      if (e.agencyId && res.indexOf(e.agencyId) < 0) res.push(e.agencyId);\n    });\n    return res;\n  };\n\n  async filterMarkers(accessibility, currBounds) {\n    const loading = await this.loadingController.create();\n    const wcTrasportiMAp: any = document.querySelector('wc-trasporti-map');\n\n    this.currBounds = currBounds;\n    // loading.present();\n    // mapService.getMap('ttMap').then(function (map) {\n    // var currBounds = map.getBounds();\n    if (this.allMarkers == null || accessibility) {\n      var agencyIds = this.getAgencies();\n      var markers = this.dbService.getStopsData(agencyIds);\n      // var markers = [];\n      // for (var i = 0; i < list.length; i++) {\n      // if (list[i].wheelChairBoarding == 1 || !this.flagAccessibility) {\n      //   var iconUrl = 'img/' + this.markerIcon + '.png';\n      // } else {\n      //   var iconUrl = 'img/ic_urbanBus_no_acc.png';\n      // }\n      // markers.push({\n      //   stop: list[i],\n      //   lat: parseFloat(list[i].coordinates[0]),\n      //   lng: parseFloat(list[i].coordinates[1]),\n      //   icon: {\n      //     iconUrl: iconUrl,\n      //     iconSize: [36, 50],\n      //     iconAnchor: [18, 50],\n      //     popupAnchor: [-0, -50]\n      //   },\n      // });\n      // }\n      this.allMarkers = markers;\n    }\n\n    var filteredMarkers = [];\n\n    if (this.allMarkers.length > this.MAX_MARKERS) {\n      this.allMarkers.forEach(function (m) {\n        // if (!currBounds) {\n        //   filteredMarkers.push(m);\n        // }\n        if (currBounds && currBounds.contains(leaflet.latLng(m.latitude, m.longitude))) {\n          filteredMarkers.push(m);\n        }\n      });\n      // loading.dismiss()\n      if (filteredMarkers.length > this.MAX_MARKERS) {\n        console.log('too many markers');\n        if (!this.tooManyMarkers) {\n          console.log('too many');\n          this.translate.get('err_too_many_markers').subscribe(async value => {\n            const toast = await this.toast.create({\n              message: value,\n              duration: 2000\n            });\n            toast.present();\n            // this.toast.create($filter('translate')('err_too_many_markers'), \"short\", \"bottom\");\n            this.tooManyMarkers = true;\n          })\n        }\n        // this.markers = this.convertForWC(filteredMarkers);\n        wcTrasportiMAp.showPoints();\n\n        return;\n      } else if (filteredMarkers.length < this.MAX_MARKERS) {\n        this.tooManyMarkers = false;\n      }\n    } else {\n      // loading.dismiss()\n      this.tooManyMarkers = false;\n    }\n    this.markers = this.convertForWC(filteredMarkers);\n    wcTrasportiMAp.showPoints();\n\n  }\n  convertForWC(filteredMarkers: any[]): string {\n    var returnArray = [];\n    filteredMarkers.forEach(elem => {\n      returnArray.push({\n        \"id\": elem.id,\n        \"lat\": elem.latitude,\n        \"long\": elem.longitude,\n        \"object\": JSON.stringify(elem)\n      })\n    })\n    return JSON.stringify(returnArray);\n  }\n};\n\n  // initMap() {\n  //   mapService.initMap('ttMap').then(function () {\n  //     GeoLocate.locate().then(function (pos) {\n  //       this.center = {\n  //         lat: pos[0],\n  //         lng: pos[1],\n  //         zoom: 18\n  //       };\n  //     }, function () {\n  //       this.filterMarkers(false);\n  //     });\n\n  //   });\n  // };\n\n\n  // showStopData() {\n  //   ttService.setTTStopData(this.popupStop);\n  //   $state.go('app.ttstop', {\n  //     stopId: this.popupStop.id,\n  //     agencyId: this.popupStop.agencyId,\n  //     ref: mapData.ref\n  //   });\n  // }\n\n  // navigate() {\n  //   planService.setPlanConfigure({\n  //     to: {\n  //       name: this.popupStop.name,\n  //       lat: this.popupStop.coordinates[0],\n  //       long: this.popupStop.coordinates[1]\n  //     },\n  //   });\n  //   planService.setName('to', this.popupStop.name);\n  //   $state.go('app.plan');\n  // };\n\n\n\n  // isEmpty(data) {\n  //   return angular.equals(data, {});\n  // };\n\n\n  // angular.extend($scope, {\n  //   center: {\n  //     lat: Config.getMapPosition().lat,\n  //     lng: Config.getMapPosition().long,\n  //     zoom: 18\n  //   },\n  //   markers: [],\n  //   events: {}\n  // });\n\n","module.exports = \"<p *ngIf=\\\"!detail\\\">\\n  <ion-item *ngFor=\\\"let item of lines\\\" (click)=\\\"selectElement(item)\\\">\\n    {{item.route}}  {{item.name}} \\n  </ion-item>\\n</p>\\n<app-stop-single-line *ngIf=\\\"detail\\\" [stop]=\\\"selectedStop\\\"></app-stop-single-line>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS10cmFzcG9ydGkvcGFnZXMvbWFwLXNwb3RzL3N0b3AtZGV0YWlsL3N0b3AtZGV0YWlsLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NavParams, ModalController } from '@ionic/angular';\nimport { TransportService } from 'src/app/module-trasporti/services/transport.service';\nimport { Router } from '@angular/router';\n\nvar NUMBER_OF_TRIP = 100;\n@Component({\n  selector: 'app-stop-detail',\n  templateUrl: './stop-detail.component.html',\n  styleUrls: ['./stop-detail.component.scss']\n})\nexport class StopDetailComponent implements OnInit {\n  @Input() id: string;\n  @Input() object: string;\n  stop: any = {};\n  lines: any[] = [];\n  data: any = {};\n  detail: boolean=false;\n  selectedStop: any;\n  constructor(private navParams: NavParams,private modalCtrl: ModalController, private transportService: TransportService, private router: Router) {\n    // componentProps can also be accessed at construction time using NavParams\n    console.log(navParams.get('id') + navParams.get('object'));\n\n  }\n  ngOnInit() {\n    if (this.navParams.get('object')) {\n      this.stop = JSON.parse(this.object);\n      this.transportService.getNextTrips(this.stop.agencyId, this.stop.id, NUMBER_OF_TRIP).then((data: any) => {\n        console.log(data);\n        this.data = data;\n        for (const k in data) {  \n          this.lines.push(data[k]);\n        }\n      })\n\n    }\n  }\n  selectElement(line) {\n    this.detail=true;\n    console.log(line);\n    this.selectedStop=line;\n  }\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalCtrl.dismiss({\n      'dismissed': true\n    });\n  }\n}\n","module.exports = \"    <div id=\\\"table-tt\\\">\\n        <wc-trasporti-stop *ngIf=\\\"data\\\" [color]=\\\"color\\\" [data]=\\\"data\\\" [route]=\\\"route\\\" [name]=\\\"name\\\" [day]=\\\"day\\\"\\n            [arrows]=\\\"true\\\" [littletable]=\\\"littletable\\\" [showtrips]=\\\"showtrips\\\" [labeldelay]=\\\"labeldelay\\\"\\n            [labeltrips]=\\\"labeltrips\\\" [accessibility]=\\\"accessibility\\\" [showtrips]=\\\"showtrips\\\" [tripsvalue]=\\\"tripsvalue\\\">\\n        </wc-trasporti-stop>\\n    </div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS10cmFzcG9ydGkvcGFnZXMvbWFwLXNwb3RzL3N0b3Atc2luZ2xlLWxpbmUvc3RvcC1zaW5nbGUtbGluZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { TransportService } from 'src/app/module-trasporti/services/transport.service';\nvar NUMBER_OF_TRIP = 100;\n\n@Component({\n  selector: 'app-stop-single-line',\n  templateUrl: './stop-single-line.component.html',\n  styleUrls: ['./stop-single-line.component.scss']\n})\nexport class StopSingleLineComponent implements OnInit {\n  @Input() stop: any;\n\n  date: Date = new Date();\n  color: string = \"#123456\";\n  day: string = this.date.getTime().toString();\n  littletable: boolean = true; //change font size of table\n  showtrips: boolean = true; // show kind of transportation for course. Used for train\n  labeldelay: string;\n  labeltrips: string;\n  accessibility = false; // shows coulumn of accessibility\n  agencyId: any;\n  routeId: any;\n  data: string = \"\";\n  tripsvalue: string;\n  route: string;\n  name: string;\n  lines: any[] = [];\n\n  constructor(private translateService: TranslateService, private transportService: TransportService) { }\n\n  ngOnInit() {\n    console.log(this.stop);\n    this.translateService.get('label_delay').subscribe(\n      value => {\n        this.labeldelay = value;\n      }\n    );\n    this.translateService.get('label_trips').subscribe(\n      value => {\n        this.labeltrips = value;\n      }\n    );\n    this.data = JSON.stringify(this.stop.times);\n    this.route = this.stop.route;\n    this.name = this.stop.name;\n  }\n  ionViewDidEnter() {\n    const trasportiTable = document.getElementById('table-tt');\n    trasportiTable.addEventListener('changeDateEvent', event => {\n      if ((<any>event).detail == \"prevDate\") {\n        this.date.setDate(this.date.getDate() - 1);\n      } \n      if ((<any>event).detail == \"nextDate\") {\n        this.date.setDate(this.date.getDate() + 1);\n      }\n       this.day = this.date.getTime().toString();\n      this.transportService.getNextTrips(this.stop.agencyId, this.stop.id, NUMBER_OF_TRIP).then((data: any) => {\n        console.log(data);\n        this.data = data;\n        for (const k in data) {\n          this.lines.push(data[k]);\n        }\n      })\n    })\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ConfigService } from './config.service';\n\nvar PROFILE_ACC = \"_accesibility\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProfileService {\n  constructor(private configService: ConfigService) { }\n\n  setAccessibility(acc) {\n    localStorage.setItem(this.configService.getAppId() + PROFILE_ACC, acc);\n  };\n  getAccessibility() {\n    return JSON.parse(localStorage.getItem(this.configService.getAppId() + PROFILE_ACC));\n  };\n\n}\n"],"sourceRoot":""}