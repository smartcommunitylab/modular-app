{"version":3,"sources":["webpack:///./src/app/module-info/pages/video/video.module.ts","webpack:///./src/app/module-info/pages/video/video.page.html","webpack:///./src/app/module-info/pages/video/video.page.scss","webpack:///./src/app/module-info/pages/video/video.page.ts"],"names":[],"mappings":"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","file":"pages-video-video-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VideoPage } from './video.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VideoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [VideoPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class VideoPageModule {\n}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n      <ion-searchbar (ionChange)=\\\"Ricerca()\\\" placeholder=\\\"Cerca\\\" id=\\\"barraDiRicerca\\\" [(ngModel)]=\\\"daCercare\\\"></ion-searchbar>\\n\\n    <ion-grid *ngIf=\\\"!isRicercaOpen\\\">\\n      <ion-row justify-content-center align-items-center>\\n        <ion-col col-6>\\n          <ion-title float-left id=\\\"TITOLO\\\">{{'trento_informa_label'|template}}</ion-title>\\n        </ion-col>\\n        <ion-col col-6>\\n          <ion-button fill=\\\"clear\\\" float-right (click)=\\\"OpenCloseRicerca()\\\" id=\\\"btnImpostazioniRicerca\\\" color=\\\"light\\\">\\n            <svg width='24' height='24' viewBox='0 0 24 24'>\\n              <path fill='none' d='M0 0h24v24H0V0z' />\\n              <path\\n                d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' />\\n            </svg>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-toolbar>\\n\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"ion-padding\\\" *ngIf=\\\"!emptyList; else emptyListTemplate\\\">\\n\\n\\n    <div *ngFor=\\\"let item of datiRicerca\\\" id=\\\"contenitoreAnteprima\\\">\\n      <wc-video (eventMappa)=\\\"visualizzaMappa(item.coordinates[0], item.coordinates[1])\\\"\\n        (eventShare)=\\\"visualizzaShare(item.title, item.image, item.videoLink)\\\" (eventVideo)=\\\"visualizzaVideo(item.videoLink)\\\" video={{item.videoLink}} id=\\\"elemento\\\" img={{item.image}}\\n        [titolo]=\\\"item.shortAbstract\\\" orario={{item.eventStart}} datapubblicazione={{formattaData(item.created)}}\\n        dataevento={{item.eventDate}} durata={{item.eventTiming}} [descrizione]=\\\"item.description\\\" luogo={{item.address}}>\\n      </wc-video>\\n    </div>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"caricaAltriDati($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"crescent\\\" loadingText=\\\"Sto caricando...\\\"></ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n  </div>\\n  <ng-template #emptyListTemplate>\\n      {{'empty_list_label'|template}}\\n        </ng-template>\\n</ion-content>\"","module.exports = \"#barraDiRicerca {\\n  display: none; }\\n\\n#contenitoreAnteprima {\\n  padding-bottom: 6px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NoaW44L0RvY3VtZW50cy93b3JrL21vZHVsYXJBcHAvbW9kdWxhci1hcHAvc3JjL2FwcC9tb2R1bGUtaW5mby9wYWdlcy92aWRlby92aWRlby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhLEVBQ2hCOztBQUVEO0VBQ0ksb0JBQW1CLEVBQ3RCIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlLWluZm8vcGFnZXMvdmlkZW8vdmlkZW8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2JhcnJhRGlSaWNlcmNhe1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNjb250ZW5pdG9yZUFudGVwcmltYXtcbiAgICBwYWRkaW5nLWJvdHRvbTogNnB4O1xufVxuIl19 */\"","import { Component, ViewChild } from '@angular/core';\nimport { DatiServiceService } from '../../services/dati-service.service';\nimport { TipoEvento } from '../../domain/tipo-evento';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { IonInfiniteScroll } from '@ionic/angular';\n\n@Component({\n  selector: 'app-video',\n  templateUrl: './video.page.html',\n  styleUrls: ['./video.page.scss'],\n})\nexport class VideoPage {\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  urlMappa = \"https://www.google.com/maps/search/?api=1&query=\";\n\n  isRicercaOpen: boolean = false;\n  DatiEvento: TipoEvento[];\n  daCercare: string;\n  datiRicerca: TipoEvento[] = [];\n  start: number = 0;\n  vetNuoviDati;\n  emptyList: boolean=false;\n  parametriPost = {\n    \"fromDate\": null,\n    \"size\": 10,\n    \"sortForList\": 0,\n    \"source\": [\"Video di TrentoInforma\"],\n    \"start\": 0,\n    \"tag\": [],\n    \"themes\": []\n  }\n  \n\n  constructor(private datiService: DatiServiceService, private social: SocialSharing) { }\n\n  visualizzaMappa(latitudine: string, longitudine: string) {\n    window.open(encodeURI(this.urlMappa + latitudine + \",\" + longitudine), '_system');\n  }\n\n  visualizzaShare(titolo: string, img: string, linkVideo: string) {\n    console.log(\"Share\");\n    this.social.canShareViaEmail().then(() => {\n      this.social.share(titolo.toString(), null, img.toString(), linkVideo.toString());\n    }).catch(() => {\n      alert(\"Il servizio di condivisione non è disponibile per questo dispositivo\");\n    });\n  }\n\n  visualizzaVideo(urlVideo: string) {\n    window.open(encodeURI(urlVideo), '_system');\n  }\n\n  ngOnInit() {\n   this.datiService.getDati(this.parametriPost).then(data => {\n     if (data.length==0)\n     {\n       this.emptyList =true;\n      }\n    this.DatiEvento =data;\n    this.datiRicerca = this.DatiEvento;\n    });\n    console.log(this.DatiEvento);\n  }\n\n  OpenCloseRicerca() {\n    if (!this.isRicercaOpen) {\n      document.getElementById(\"barraDiRicerca\").style.display = \"inherit\";\n      document.getElementById(\"btnImpostazioniRicerca\").innerHTML = \"<svg width='24' height='24' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'/><path d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z'/></svg>\";\n      this.infiniteScroll.disabled = true;\n      this.Ricerca();\n    }\n    else {\n      document.getElementById(\"barraDiRicerca\").style.display = \"none\";\n      document.getElementById(\"btnImpostazioniRicerca\").innerHTML = \"<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'/><path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/></svg>\";\n      this.datiRicerca = this.DatiEvento;\n      this.infiniteScroll.disabled = false;\n    }\n    this.isRicercaOpen = !this.isRicercaOpen;\n  }\n\n  Ricerca() {\n    let vetRisultati: any[] = [];\n    if (this.daCercare != null) {\n      for (let item of this.DatiEvento) {\n        if ((item.description.toUpperCase().includes(this.daCercare.toUpperCase())) || (item.title.toUpperCase().includes(this.daCercare.toUpperCase()))) {\n          vetRisultati.push(item);\n        }\n      }\n      this.datiRicerca = vetRisultati;\n      vetRisultati = null;\n    }\n  }\n\n  caricaAltriDati(event) {\n    this.start += 10;\n    let parametriPost = {\n      \"fromDate\": null,\n      \"size\": 10,\n      \"sortForList\": 0,\n      \"source\": [\"Video di TrentoInforma\"],\n      \"start\": this.start,\n      \"tag\": [],\n      \"themes\": []\n    }\n    this.datiService.getDati(parametriPost).then(dati => {\n      this.vetNuoviDati = dati;\n      this.visualizzaDati(this.vetNuoviDati, event)\n    });\n    console.log(this.datiRicerca);\n\n    // setTimeout(() => { this.visualizzaDati(this.vetNuoviDati, event) }, 1500);\n  }\n\n  visualizzaDati(vet, event) {\n    for (let item of vet) {\n      this.datiRicerca.push(item);\n    }\n    console.log(this.datiRicerca);\n    \n    if (vet.length < 10) {\n      event.target.disabled = true;\n    }\n    event.target.complete();\n  }\n\n  formattaData(data): string {\n    let anno: string = data.slice(0, 4);\n    let mese: string = data.slice(4, 6);\n    let giorno: string = data.slice(6, 8);\n    return giorno + \"/\" + mese + \"/\" + anno;\n  }\n}"],"sourceRoot":""}