var __awaiter=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(r,n){function l(t){try{a(i.next(t))}catch(t){n(t)}}function s(t){try{a(i.throw(t))}catch(t){n(t)}}function a(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(l,s)}a((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){var o,i,r,n,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,i&&(r=2&n[0]?i.return:n[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],i=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}};mycomponent.loadBundle("hkrkim99",["exports","./chunk-6f831622.js"],function(t,e){var o=window.mycomponent.h,i=function(){function t(){this.rowHeight=20,this.headerRowHeight=25,this.stopsColWidth=100,this.tableStyle="ic_text_size",this.headervariable=90,this.stopsColLineHeight=20,this.headerHeight=44+this.headervariable+1,this.cellWidthBase=50,this.cellHeightBase=28,this.firstRowHeight=28,this.scrollLeftPosition=0,this.tt=null,this.runningDate=new Date,this.expandStr=function(t){if(t.length<9){for(var e=9-t.length,o=Math.round(e/2),i=0;i<o;i++)t="&nbsp;"+t;for(i=0;i<e-o;i++)t+="&nbsp"}return t}}return t.prototype.reloadTable=function(){this.componentWillLoad()},t.prototype.watchHandler=function(t,e){console.log("animation from"+t+"to"+e),this.animateData(e,t)},t.prototype.changeStyle=function(){this.changeStyleTable()},t.prototype.handleScroll=function(t){console.log("the body was scrolled",t)},t.prototype.animateData=function(t,e){throw new Error("Method not implemented."+t+e)},t.prototype.getTextWidth=function(){return this.element.shadowRoot.querySelector("#measurer").getBoundingClientRect().width},t.prototype.setBiggerStyle=function(){this.littletable=!0,this.rowHeight=30,this.headerRowHeight=30,this.stopsColWidth=150,this.stopsColLineHeight=30;var t=this.element.shadowRoot.querySelector("#header-table"),e=90;t&&(e=t.clientHeight),this.headervariable=e+5*this.header_row_number;var o=44+this.headervariable+1;this.fontsize=16,this.scrollHeight=window.innerHeight-o},t.prototype.setSmallerStyle=function(){this.littletable=!1,this.rowHeight=20,this.stopsColWidth=100,this.fontsize=12,this.stopsColLineHeight=20;var t=this.element.shadowRoot.querySelector("#header-table"),e=90;t&&(e=t.clientHeight),this.headervariable=e+5*this.header_row_number,this.scrollHeight=window.innerHeight-(44+this.headervariable+1)},t.prototype.changeStyleTable=function(){var t=this;setTimeout(function(){t.littletable?t.setSmallerStyle():t.setBiggerStyle(),t.tableStyle=t.littletable?"ic_text_size":"ic_text_size_outline"},100),setTimeout(function(){},2e3)},t.prototype.locateTablePosition=function(t,o){if(t){o=e.moment(o).format("HH:mm");for(var i=0;i<t.tripIds.length;i++)if(t.times[i])for(var r=0;r<t.times[i].length;r++)if(t.times[i][r]&&t.times[i][r].localeCompare(o)>=0)return i;return t.tripIds.length-1}},t.prototype.initMeasures=function(t,e){var o=this;this.stopsColWidth=window.innerHeight<window.innerWidth?170:this.littletable?150:100,this.header=null,this.col=null,t.tripIds&&0!=t.tripIds.length&&(this.tableHeight=t.stops.length*this.rowHeight,this.scrollWidth=window.innerWidth+(this.accessibility?0:25),this.scrollHeight=window.innerHeight-this.headerHeight,this.tableHeaderHeight=this.showHeader?this.header_row_number*this.headerRowHeight:0,e||setTimeout(function(){var e=o.locateTablePosition(t,new Date);e=Math.min(e,t.tripIds.length-(o.scrollWidth-o.stopsColWidth)/o.colwidth);var i=o.colwidth*e;o.element.shadowRoot.querySelector("#table-table").scrollTo(i,0)},300))},t.prototype.componentWillLoad=function(){this.changeStyle(),this.buildData()},t.prototype.buildData=function(){this.dataTT=JSON.parse(this.data),this.rootstyle(),this.Fetch(),this.initMeasures(this.dataTT,!1)},t.prototype.rootstyle=function(){var t=document.documentElement;t.style.setProperty("--dim-orari-wid",(screen.width-screen.width/100*85).toString()+"px"),t.style.setProperty("--top-table","70px"),t.style.setProperty("--dim-orari-hei",(screen.height-70).toString()+"px"),t.style.setProperty("--dim-fermate-wid",(screen.width-screen.width/100*15.5).toString()+"px"),t.style.setProperty("--dim-fermate-hei",(screen.height-70).toString()+"px")},t.prototype.BiancoNero=function(t){for(var e in this.fermate="",t)this.fermate+=parseInt(e)%2==0?"<div id='grigioFermate'>":"<div id='biancoFermate'>",this.fermate+=t[e].toString()+"</div>"},t.prototype.componentDidLoad=function(){var t=this.element.shadowRoot.querySelectorAll("li.my-list");[].forEach.call(t,function(t){return t.style.color="red"}),this.setStyle(),this.colwidth=this.getTextWidth()},t.prototype.setStyle=function(){this.titleBar=this.element.shadowRoot.querySelector(".titleBar"),this.titleBar&&(this.titleBar.style.backgroundColor=this.color,this.titleBar.style.color=this.textColor(this.color)),this.subtitleBar=this.element.shadowRoot.querySelector(".day-bar"),this.subtitleBar&&(this.subtitleBar.style.backgroundColor=this.color,this.subtitleBar.style.color=this.textColor(this.color))},t.prototype.getDelayValue=function(t){var e="";return t&&t.SERVICE&&t.SERVICE>0&&(e+=t.SERVICE+"'"),t&&t.USER&&t.USER>0&&(e.length>0&&(e+=" / "),e+=t.USER+"'"),e},t.prototype.StampaOrari=function(t){this.header_row_number=this.showtrips?2:1;var e="",o=2==this.header_row_number?["",""]:[""],i="",r=["",""],n=[];if(t.stops)for(var l=0;l<t.stops.length+this.header_row_number;l++){for(var s=[],a=0;a<=t.tripIds.length;a++)if(0==a&&0==l)s.push(c=this.labeldelay),r[0]=c;else if(2==this.header_row_number&&1==l&&0==a)s.push(c=this.labeltrips),r[1]=c;else if(0==a)s.push(t.stops[l-this.header_row_number]),i+=t.wheelChairBoarding&&1==t.wheelChairBoarding[l-this.header_row_number]?'<div class="accessibilityBullet"><ion-icon name="radio-button-on"></ion-icon></div>':'<div class="accessibilityBullet"></div>',i+=t.stops[l-this.header_row_number]+"<br/>";else if(0==l){var c="";t.delays&&(c=this.getDelayValue(t.delays[a-1])),s.push(c),c=this.expandStr(c),o[0]+=c}else if(2==this.header_row_number&&1==l){var h=this.getTripText(this.agencyid,t.tripIds[a-1]);console.log(h),s.push(h),h=this.expandStr(h),o[1]+=h}else s.push(h=t.times[a-1][l-this.header_row_number]),h||(h="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),e+="&nbsp;&nbsp;"+h+"&nbsp;&nbsp;",a==t.tripIds.length&&(e+="<br/>");n.push(s)}else t.stops=[],t.stopIds=[];this.headStr=o,this.orari=e,this.tableCornerStr=r,this.fermate=i,this.tt=n,this.initMeasures(t,!1)},t.prototype.tripExtractor=function(t,e){return"5"==t||"6"==t||"10"==t?e.replace(/\d+.*/g,"").toUpperCase():e},t.prototype.getTripText=function(t,e){try{return this.tripExtractor(t,e)}catch(t){return e}},t.prototype.Fetch=function(){this.dataTT&&(console.log(this.dataTT),this.StampaOrari(this.dataTT)),this.citta&&this.numero&&this.remoteFetch()},t.prototype.remoteFetch=function(){var t=this;fetch("https://os.smartcommunitylab.it/core.mobility/timetable/"+this.citta+"/"+this.numero).then(function(t){t.json()}).then(function(e){t.dataTT=e.stopNames,t.BiancoNero(t.dataTT),t.dataTT=e.trips,t.StampaOrari(t.dataTT.times)})},t.prototype.scrollOrari=function(t){t=t,null==this.header&&(this.header=this.element.shadowRoot.querySelector("#table-header")),null==this.col&&(this.col=this.element.shadowRoot.querySelector("#table-col"));var e=t.detail.currentX;null!=this.header&&(this.header.style.top=t.detail.currentY+"px"),null!=this.col&&(this.col.style.left=e+"px")},t.prototype.visualizza=function(t){return t},t.prototype.prevDate=function(){this.changeDateEvent.emit("prevDate")},t.prototype.nextDate=function(){this.changeDateEvent.emit("nextDate")},t.prototype.textColor=function(t){return this.isDarkColor(t)?"#fff":"#000"},t.prototype.isDarkColor=function(t){if(!t)return!0;var e=t.substring(1),o=parseInt(e,16);return((o>>16&255)+(o>>8&255)+(o>>0&255))/3<128},t.prototype.showStop=function(t){this.showStopEvent.emit(t)},t.prototype.render=function(){var t=this,e={height:this.scrollHeight+"px",width:this.scrollWidth+"px"},i={width:this.stopsColWidth+"px",lineHeight:this.stopsColLineHeight+"px",backgroundSize:"100% "+2*this.rowHeight+"px",fontSize:this.fontsize+"px",left:(this.col?this.col.style.left:0)+"px",top:(this.col?this.col.style.top:25*(this.showHeader?this.header_row_number:0))+"px",backgroundImage:"linear-gradient(180deg,#fff, #fff "+this.rowHeight+"px, #eee "+this.rowHeight+"px, #eee "+2*this.rowHeight+"px"},r={left:this.stopsColWidth+"px",top:""+(this.header?this.header.style.top:0),fontSize:this.fontsize+"}px"},n={left:this.stopsColWidth+"px",top:this.tableHeaderHeight+"px",lineHeight:this.stopsColLineHeight+"px",backgroundSize:"100% "+2*this.rowHeight+"px",fontSize:this.fontsize+"px",backgroundImage:"linear-gradient(180deg,transparent, transparent "+this.rowHeight+"px, #eee "+this.rowHeight+"px, #eee "+2*this.rowHeight+"px)"},l={width:this.stopsColWidth+"px",height:this.tableHeaderHeight+"px"},s={fontSize:this.fontsize+"px"},a={fontSize:this.fontsize+"px"};return[o("div",null,o("div",{id:"header-table"},o("div",{class:"row titleBar"},o("div",{class:"col tt-subtitle"},this.titolo)),o("ion-row",{class:"line-title"},o("ion-col",{size:"12"},o("span",{class:"title"},this.title))),o("ion-row",{class:"day-bar"},o("ion-col",{size:"1",class:"col col-25 tt-day btn",onClick:function(){return t.prevDate()}},o("ion-icon",{name:"arrow-dropleft"})),o("ion-col",{size:"10",class:"col col-50 tt-day "},this.datetable),o("ion-col",{size:"1",class:"col col-25 tt-day btn",onClick:function(){return t.nextDate()}},o("ion-icon",{name:"arrow-dropright"})))),this.emptytable?o("div",{class:"no-table"},this.emptytablelabel):o("div",{class:"row table-container"},o("div",{class:"tt-table"+(!0===this.accessibility?" tt-table-acc":" ")},this.orari&&this.showHeader?o("div",{id:"table-corner",style:l},o("div",{style:s}," ",o("ion-icon",{class:"table-accessibility",name:"person"}),o("span",{class:"corner-delay"},this.tableCornerStr[0])),2==this.header_row_number?o("div",{class:"delay",style:a},this.tableCornerStr[1]):""):"",o("ion-content",{scrollX:!0,scrollY:!0,scrollEvents:!0,"has-bouncing":"false",id:"tablescroll",onIonScrollStart:function(){},onIonScroll:function(e){return t.scrollOrari(e)},onIonScrollEnd:function(){},style:e,class:"overlapDiv","delegate-handle":"list"},o("div",{id:"table-col",style:i},this.dataTT.stops.map(function(e,i){return parseInt(i)%2==0?o("div",{id:"grigioFermate",onClick:function(){return t.showStop(e)}},o("div",null,t.accessibility?t.dataTT.wheelChairBoarding&&1==t.dataTT.wheelChairBoarding[i]?o("div",null,o("div",{class:"accessibilityBullet"},o("ion-icon",{name:"radio-button-on"})),e):o("div",null,o("div",{class:"accessibilityBullet"}),"  ",o("span",null,e)):e)):o("div",{id:"biancoFermate",onClick:function(){return t.showStop(e)}},o("div",null,t.accessibility?t.dataTT.wheelChairBoarding&&1==t.dataTT.wheelChairBoarding[i]?o("div",null,o("div",{class:"accessibilityBullet"},o("ion-icon",{name:"radio-button-on"})),e):o("div",null,o("div",{class:"accessibilityBullet"})," ",o("span",null,e)):e))})),this.showHeader?o("div",{id:"table-header",style:r},o("div",{innerHTML:this.headStr[0]}),2==this.header_row_number?o("div",{innerHTML:this.headStr[1],class:"header-row-types"}):""):"",o("div",{id:"table-table",innerHTML:this.visualizza(this.orari),style:n}),o("div",{id:"measurer",class:"mesurer"},"123456789")))))]},Object.defineProperty(t,"is",{get:function(){return"wc-trasporti-table"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{accessibility:{type:Boolean,attr:"accessibility"},agencyid:{type:String,attr:"agencyid"},arrows:{type:Boolean,attr:"arrows"},citta:{type:String,attr:"citta"},color:{type:String,attr:"color"},data:{type:String,attr:"data",watchCallbacks:["reloadTable"]},dataTT:{state:!0},datetable:{type:String,attr:"datetable",watchCallbacks:["watchHandler"]},day:{type:String,attr:"day"},element:{elementRef:!0},emptytable:{type:Boolean,attr:"emptytable"},emptytablelabel:{type:String,attr:"emptytablelabel"},fermate:{state:!0},font:{type:String,attr:"font"},fontsize:{state:!0},labeldelay:{type:String,attr:"labeldelay"},labeltrips:{type:String,attr:"labeltrips"},lang:{type:String,attr:"lang"},littletable:{type:Boolean,attr:"littletable",watchCallbacks:["changeStyle"]},numero:{type:String,attr:"numero"},orari:{state:!0},showHeader:{type:Boolean,attr:"show-header"},showtrips:{type:Boolean,attr:"showtrips"},title:{type:String,attr:"title"},titolo:{type:String,attr:"titolo"},tripsvalue:{type:String,attr:"tripsvalue"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"changeDateEvent",method:"changeDateEvent",bubbles:!0,cancelable:!0,composed:!0},{name:"showStopEvent",method:"showStopEvent",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"scroll",method:"handleScroll",passive:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"#colonna1.sc-wc-trasporti-table{width:20%}#colonna1.sc-wc-trasporti-table, #riga1.sc-wc-trasporti-table{position:relative}#riga1.sc-wc-trasporti-table{height:6%}*.sc-wc-trasporti-table{font-family:monospace}.title.sc-wc-trasporti-table{font-family:Titillium Web!important}#listaFermate.sc-wc-trasporti-table{position:absolute;top:var(--top-table);height:var(--dim-orari-hei);overflow:auto;overflow-y:hidden}#fermate.sc-wc-trasporti-table{position:absolute;top:0;min-width:100px;max-width:300px;width:10%}#contentFermate.sc-wc-trasporti-table{height:800px;width:300px}#myDIV.sc-wc-trasporti-table{position:absolute;top:var(--top-table);height:var(--dim-fermate-hei);width:var(--dim-fermate-wid);overflow:auto;overflow-x:var(--blocca-barra)}#content.sc-wc-trasporti-table{height:800px;width:2000px}#orari.sc-wc-trasporti-table{top:0;width:10%;left:15%}#measurer.sc-wc-trasporti-table, #orari.sc-wc-trasporti-table{position:absolute}#measurer.sc-wc-trasporti-table{white-space:nowrap;font-family:RobotoMono;font-size:12px;color:transparent;background-color:transparent}#biancoOrari.sc-wc-trasporti-table{background-color:#fff}#biancoOrari.sc-wc-trasporti-table, #grigioOrari.sc-wc-trasporti-table{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;position:relative}#grigioOrari.sc-wc-trasporti-table{background-color:#eee}#biancoFermate.sc-wc-trasporti-table{background-color:#fff}#biancoFermate.sc-wc-trasporti-table, #grigioFermate.sc-wc-trasporti-table{position:relative;margin-left:28px}#grigioFermate.sc-wc-trasporti-table{background-color:#eee}.sc-wc-trasporti-table::-webkit-scrollbar{width:10px}.sc-wc-trasporti-table::-webkit-scrollbar-thumb, .sc-wc-trasporti-table::-webkit-scrollbar-track{background:hsla(0,0%,100%,0)}.sc-wc-trasporti-table::-webkit-scrollbar-thumb:hover{background:hsla(0,0%,100%,0)}.tt-day.sc-wc-trasporti-table{font-size:20px;line-height:40px;text-align:center;padding:0;text-transform:uppercase;white-space:nowrap}.tt-day.btn.sc-wc-trasporti-table{font-size:30px}.tt-day.btn.sc-wc-trasporti-table   a.activated.sc-wc-trasporti-table, .tt-day.btn.sc-wc-trasporti-table   a.sc-wc-trasporti-table:active, .tt-day.btn.sc-wc-trasporti-table   a.sc-wc-trasporti-table:focus, .tt-day.btn.sc-wc-trasporti-table   a.sc-wc-trasporti-table:hover{opacity:.5}#table-header.sc-wc-trasporti-table{white-space:nowrap;font-family:RobotoMono;position:absolute;background-color:#fff;font-size:12px;z-index:10}#table-header.sc-wc-trasporti-table   div.sc-wc-trasporti-table{border-bottom:1px solid #bbb;height:25px}#table-header.sc-wc-trasporti-table   div.sc-wc-trasporti-table:first-child{color:#cd251c}.header-row-types.sc-wc-trasporti-table{height:20px}#table-table.sc-wc-trasporti-table{white-space:nowrap;font-size:12px;position:absolute;left:0;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}#table-table.sc-wc-trasporti-table   br.sc-wc-trasporti-table{font-family:RobotoMono}#table-col.sc-wc-trasporti-table{line-height:20px;white-space:nowrap;border-right:1px solid #bbb;z-index:10;overflow:hidden;text-overflow:ellipsis}#table-col.sc-wc-trasporti-table, #table-corner.sc-wc-trasporti-table{font-size:12px;position:absolute;background-color:#fff;padding-left:3px}#table-corner.sc-wc-trasporti-table{height:25px;z-index:100;text-align:left}#table-corner.sc-wc-trasporti-table   div.sc-wc-trasporti-table{height:25px;border-bottom:1px solid #bbb;border-right:1px solid #bbb;background-color:#fff}#table-corner.sc-wc-trasporti-table > div.sc-wc-trasporti-table   .corner-delay.sc-wc-trasporti-table{margin-left:10px;vertical-align:top}.accessibilityBullet.sc-wc-trasporti-table{display:inline-table;left:-20px;position:absolute}.delay.sc-wc-trasporti-table{padding-left:40px}.table-container.sc-wc-trasporti-table{padding:0}.table-container.sc-wc-trasporti-table   ion-scroll.sc-wc-trasporti-table{margin-top:0}.tt-table.sc-wc-trasporti-table{position:absolute;left:-25px;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.tt-table-acc.sc-wc-trasporti-table{left:0!important}.tt-table.sc-wc-trasporti-table   #table-col.sc-wc-trasporti-table   div.sc-wc-trasporti-table{width:0;margin-right:5px;text-align:center}.tt-subtitle.sc-wc-trasporti-table{text-align:center}.table-accessibility.sc-wc-trasporti-table{color:#2975a7;margin-right:4px;font-size:25px}.line-title.sc-wc-trasporti-table, .no-table.sc-wc-trasporti-table{text-align:center}.no-table.sc-wc-trasporti-table{width:100%;size:22px}"},enumerable:!0,configurable:!0}),t}(),r={ipad:function(t){return c(t,/iPad/i)},iphone:function(t){return c(t,/iPhone/i)},ios:function(t){return c(t,/iPad|iPhone|iPod/i)},android:function(t){return c(t,/android|sink/i)},phablet:function(t){var e=t.innerWidth,o=t.innerHeight,i=Math.min(e,o),r=Math.max(e,o);return i>390&&i<520&&r>620&&r<800},tablet:function(t){var e=t.innerWidth,o=t.innerHeight,i=Math.min(e,o),r=Math.max(e,o);return i>460&&i<820&&r>780&&r<1400},cordova:s,capacitor:a,electron:function(t){return c(t,/electron/)},pwa:function(t){return t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone},mobile:n,mobileweb:function(t){return n(t)&&!l(t)},desktop:function(t){return!n(t)},hybrid:l};function n(t){return function(t,e){return t.matchMedia("(any-pointer:coarse)").matches}(t)}function l(t){return s(t)||a(t)}function s(t){return!!(t.cordova||t.phonegap||t.PhoneGap)}function a(t){var e=t.Capacitor;return!(!e||!e.isNative)}function c(t,e){return e.test(t.navigator.userAgent)}var h=function(){function t(){this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}return t.prototype.componentWillLoad=function(){void 0===this.forceOverscroll&&(this.forceOverscroll="ios"===this.mode&&("mobile",function(t){return function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;if(null==e){e=t.Ionic.platforms=function(t){return Object.keys(r).filter(function(e){return r[e](t)})}(t);var o=t.document.documentElement.classList;e.forEach(function(t){return o.add("plt-"+t)})}return e}(t)}(this.win).includes("mobile")))},t.prototype.componentDidLoad=function(){this.resize()},t.prototype.componentDidUnload=function(){this.onScrollEnd()},t.prototype.onClick=function(t){this.isScrolling&&(t.preventDefault(),t.stopPropagation())},t.prototype.resize=function(){this.fullscreen?this.queue.read(this.readDimensions.bind(this)):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,this.el.forceUpdate())},t.prototype.readDimensions=function(){var t=function(t){var e=t.closest("ion-tabs");if(e)return e;var o=t.closest("ion-app,ion-page,.ion-page,page-inner");return o||function(t){return t.parentElement?t.parentElement:t.parentNode&&t.parentNode.host?t.parentNode.host:null}(t)}(this.el),e=Math.max(this.el.offsetTop,0),o=Math.max(t.offsetHeight-e-this.el.offsetHeight,0);(e!==this.cTop||o!==this.cBottom)&&(this.cTop=e,this.cBottom=o,this.el.forceUpdate())},t.prototype.onScroll=function(t){var e=this,o=Date.now(),i=!this.isScrolling;this.lastScroll=o,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,this.queue.read(function(o){e.queued=!1,e.detail.event=t,function(t,e,o,i){var r=t.currentX,n=t.currentY,l=t.timeStamp,s=e.scrollLeft,a=e.scrollTop;i&&(t.startTimeStamp=o,t.startX=s,t.startY=a,t.velocityX=t.velocityY=0),t.timeStamp=o,t.currentX=t.scrollLeft=s,t.currentY=t.scrollTop=a,t.deltaX=s-t.startX,t.deltaY=a-t.startY;var c=o-l;if(c>0&&c<100){var h=(a-n)/c;t.velocityX=.7*((s-r)/c)+.3*t.velocityX,t.velocityY=.7*h+.3*t.velocityY}}(e.detail,e.scrollEl,o,i),e.ionScroll.emit(e.detail)}))},t.prototype.getScrollElement=function(){return Promise.resolve(this.scrollEl)},t.prototype.scrollToTop=function(t){return void 0===t&&(t=0),this.scrollToPoint(void 0,0,t)},t.prototype.scrollToBottom=function(t){return void 0===t&&(t=0),this.scrollToPoint(void 0,this.scrollEl.scrollHeight-this.scrollEl.clientHeight,t)},t.prototype.scrollByPoint=function(t,e,o){return this.scrollToPoint(t+this.scrollEl.scrollLeft,e+this.scrollEl.scrollTop,o)},t.prototype.scrollToPoint=function(t,e,o){return void 0===o&&(o=0),__awaiter(this,void 0,void 0,function(){var i,r,n,l,s,a,c,h,u;return __generator(this,function(p){return i=this.scrollEl,o<32?(null!=e&&(i.scrollTop=e),null!=t&&(i.scrollLeft=t),[2]):(n=0,l=new Promise(function(t){return r=t}),s=i.scrollTop,a=i.scrollLeft,c=null!=e?e-s:0,h=null!=t?t-a:0,u=function(t){var e=Math.min(1,(t-n)/o)-1,l=Math.pow(e,3)+1;0!==c&&(i.scrollTop=Math.floor(l*c+s)),0!==h&&(i.scrollLeft=Math.floor(l*h+a)),l<1?requestAnimationFrame(u):r()},requestAnimationFrame(function(t){n=t,u(t)}),[2,l])})})},t.prototype.onScrollStart=function(){var t=this;this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(function(){t.lastScroll<Date.now()-120&&t.onScrollEnd()},100)},t.prototype.onScrollEnd=function(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))},t.prototype.hostData=function(){return{class:Object.assign({},(e=this.color,"string"==typeof e&&e.length>0?((o={"ion-color":!0})["ion-color-"+e]=!0,o):void 0),{"content-sizing":("ion-popover",t=this.el,null!==t.closest("ion-popover")),overscroll:!!this.forceOverscroll}),style:{"--offset-top":this.cTop+"px","--offset-bottom":this.cBottom+"px"}};var t,e,o},t.prototype.render=function(){var t=this,e=this.scrollX,i=this.scrollY,r=this.forceOverscroll;return this.resize(),[o("div",{class:{"inner-scroll":!0,"scroll-x":e,"scroll-y":i,overscroll:(e||i)&&!!r},ref:function(e){return t.scrollEl=e},onScroll:function(e){return t.onScroll(e)}},o("slot",null)),o("slot",{name:"fixed"})]},Object.defineProperty(t,"is",{get:function(){return"ion-content"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{color:{type:String,attr:"color"},config:{context:"config"},el:{elementRef:!0},forceOverscroll:{type:Boolean,attr:"force-overscroll",mutable:!0},fullscreen:{type:Boolean,attr:"fullscreen"},getScrollElement:{method:!0},queue:{context:"queue"},scrollByPoint:{method:!0},scrollEvents:{type:Boolean,attr:"scroll-events"},scrollToBottom:{method:!0},scrollToPoint:{method:!0},scrollToTop:{method:!0},scrollX:{type:Boolean,attr:"scroll-x"},scrollY:{type:Boolean,attr:"scroll-y"},win:{context:"window"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ionScrollStart",method:"ionScrollStart",bubbles:!0,cancelable:!0,composed:!0},{name:"ionScroll",method:"ionScroll",bubbles:!0,cancelable:!0,composed:!0},{name:"ionScrollEnd",method:"ionScrollEnd",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"click",method:"onClick",capture:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-ion-content-h{--background:var(--ion-background-color,#fff);--color:var(--ion-text-color,#000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0!important;padding:0!important;font-family:var(--ion-font-family,inherit);contain:size style}.ion-color.sc-ion-content-h   .inner-scroll.sc-ion-content{background:var(--ion-color-base);color:var(--ion-color-contrast)}.outer-content.sc-ion-content-h{--background:var(--ion-color-step-50,#f2f2f2)}.inner-scroll.sc-ion-content{left:0;right:0;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;background:var(--background);color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.inner-scroll.sc-ion-content{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-x.sc-ion-content, .scroll-y.sc-ion-content{-webkit-overflow-scrolling:touch;will-change:scroll-position;-ms-scroll-chaining:none;overscroll-behavior:contain}.scroll-y.sc-ion-content{-ms-touch-action:pan-y;touch-action:pan-y;overflow-y:var(--overflow)}.scroll-x.sc-ion-content{-ms-touch-action:pan-x;touch-action:pan-x;overflow-x:var(--overflow)}.scroll-x.scroll-y.sc-ion-content{-ms-touch-action:auto;touch-action:auto}.overscroll.sc-ion-content:after, .overscroll.sc-ion-content:before{position:absolute;width:1px;height:1px;content:\"\"}.overscroll.sc-ion-content:before{bottom:-1px}.overscroll.sc-ion-content:after{top:-1px}.content-sizing.sc-ion-content-h{contain:none}.content-sizing.sc-ion-content-h   .inner-scroll.sc-ion-content{position:relative}"},enumerable:!0,configurable:!0}),t}();t.WcTrasportiTable=i,t.IonContent=h,Object.defineProperty(t,"__esModule",{value:!0})});